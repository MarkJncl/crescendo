<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Model version="4.2" build="4.2.5.2469">
  <Sidops><![CDATA[model 0 0
 description '<Information>
 <Description>
    <LibraryPath>C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\selfBalancingScooter 3D_PIDinDE.emx</LibraryPath>
  <TimeStamp>2012-10-17 12:45:51</TimeStamp>
  <Version>4.2</Version>
</Description>
</Information>';
 type 'Mainmodel-2'
 end;
 implementation bg
  submodels
   AD2 576 272
    type AD
     ports
      signal in input;
      signal out output;
     parameters
      real minimum = -2.0;
      real maximum = 2.0;
      real bits = 12.0;
    end;
    icon bg
     figures
      rectangle 561 257 591 287 fill 15132390;
      spline 567 280.7 583.5 264.2 color 16711680;
      text 'A' 569.5 266.5 color 16711680 14;
      text 'D' 582 277 color 16711680 14;
    end;
    implementation eq
parameters
	real initial = 0.0;
variables
	real hold_signal, windowed_signal, quantisized_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) - 1);
	half_lsb = lsb / 2;
	hold_signal = sample (input,initial);
	windowed_signal = if hold_signal <= minimum then
		 minimum + half_lsb
	else
		if hold_signal >= maximum then 
			maximum -half_lsb
		else 
			hold_signal
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	output =  quantisized_signal - (quantisized_signal mod lsb);
    implementation_end;
   ChessWay1 728 320
    description '<Description>
 <Version>No Version Info</Version>
 <IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
     ports
      signal out Angle_out;
      signal in PwmL;
      signal out Forward_velocity_out;
      signal in PwmR;
      signal in Velocity_in;
      signal in saswL;
      signal in saswR;
    end;
    icon bg
     figures
      rectangle 691 298 765 342 fill 12895428;
      text 'name' 728 320 16;
    end;
    implementation bg
     submodels
      CarAngle1 512 616
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         signal in R [3,3];
         signal out angle;
       end;
       implementation eq
variables
	real angles[3];
equations
	angles = dll('EulerAngles.dll', 'EulZYXrFromRotationMatrix', R);
	angle = angles[2];

implementation_end;
      ChessWay3d 512 408
       description '<Description>
   <IsMainModel>1</IsMainModel>
   <KeepParameterValues>True</KeepParameterValues>
   <Version>4.2</Version>
   <Description>Model generated by 3D-Mechanics Toolbox
	Original Filename: C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\ChessWay 3D-2.3dm</Description>
   <LibraryPath>C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\ChessWaySub.emx</LibraryPath>
   <TimeStamp>2012-6-1 16:47:17</TimeStamp>
</Description>';
       type MechanicsModel
        ports
         signal out LeftWheelAbsH [4,4];
         signal out RightWheelAbsH [4,4];
         mechanical psi in LeftWheelContact [6,1];
         mechanical psi in RightWheelContact [6,1];
         signal out RBody [3,3];
         signal out VelocityCar [3,1];
         rotation psi in LeftWheelJoint;
         rotation psi in RightWheelJoint;
        restrictions
         causality fixed in LeftWheelContact;
         causality fixed in RightWheelContact;
         causality fixed in LeftWheelJoint;
         causality fixed in RightWheelJoint;
       end;
       icon bg bottom
        figures
         image 'C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\ChessWay3dIcon.png' 448 344 128 128;
        terminals
         LeftWheelContact 474.7 472;
         RightWheelContact 554.7 472;
         LeftWheelJoint 448 408;
         RightWheelJoint 576 408;
       end;
       implementation eq
// 20-sim 3D Mechanics Editor
// C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\ChessWay 3D-2.3dm

variables
	real hidden World\AbsH[4,4];
	real hidden World\mass_x_I[6,6];
	real hidden CarBodyFree\ConnectionPoint1\AbsH[4,4];
	real hidden CarBodyFree\AbsH[4,4];
	real hidden CarBodyFree\RelH[4,4];
	real hidden CarBodyFree\rotationInitial[4,4];
	real CarBodyFree\quat[4];
	real CarBodyFree\quatDot[4];
	real hidden CarBodyFree\quatInitial[4];
	real CarBodyFree\QOmega[4,4];
	real CarBodyFree\vgen[6];
	real CarBodyFree\x[3];
	real CarBodyFree\v[3];
	real CarBodyFree\vel[3];
	real CarBodyFree_Rot[4,4];
	real hidden CarBodyFree\ConnectionPoint2\AbsH[4,4];
	real hidden CarBody\AbsH[4,4];
	real hidden CarBody\mass_x_I[6,6];
	real hidden LeftWheelJoint\ConnectionPoint1\AbsH[4,4];
	real hidden LeftWheelJoint\AbsH[4,4];
	real hidden LeftWheelJoint\RelH[4,4];
	real LeftWheelJoint\phi;
	real LeftWheelJoint\omega;
	real LeftWheelJoint\sinTh;
	real LeftWheelJoint\CosTh;
	real LeftWheelJoint\Rot[3,3];
	real LeftWheelJoint\Pos[3];
	real hidden LeftWheelJoint\ConnectionPoint2\AbsH[4,4];
	real hidden LeftWheel\AbsH[4,4];
	real hidden LeftWheel\mass_x_I[6,6];
	real hidden LeftWheelAbsH\ConnectionPoint1\AbsH[4,4];
	real hidden LeftWheelContact\ConnectionPoint1\AbsH[4,4];
	real LeftWheelJoint\Wrench[1,6];
	real LeftWheelJoint\torque;
	real LeftWheelJoint\ConnectionPoint2\AbsHinverse[4,4];
	real hidden RightWheelJoint\ConnectionPoint1\AbsH[4,4];
	real hidden RightWheelJoint\AbsH[4,4];
	real hidden RightWheelJoint\RelH[4,4];
	real RightWheelJoint\phi;
	real RightWheelJoint\omega;
	real RightWheelJoint\sinTh;
	real RightWheelJoint\CosTh;
	real RightWheelJoint\Rot[3,3];
	real RightWheelJoint\Pos[3];
	real hidden RightWheelJoint\ConnectionPoint2\AbsH[4,4];
	real hidden RightWheel\AbsH[4,4];
	real hidden RightWheel\mass_x_I[6,6];
	real hidden RightWheelAbsH\ConnectionPoint1\AbsH[4,4];
	real hidden RightWheelContact\ConnectionPoint1\AbsH[4,4];
	real RightWheelJoint\Wrench[1,6];
	real RightWheelJoint\torque;
	real RightWheelJoint\ConnectionPoint2\AbsHinverse[4,4];
	real hidden RBody\ConnectionPoint1\AbsH[4,4];
	real hidden VelocityCar\ConnectionPoint1\AbsH[4,4];
	real v[8];
	real P[8];
	real PDot[8];
	real PDotBodies[8];
	real hidden AdjX1[6,6];
	real hidden AdjX1_T[6,6];
	real hidden adjAdjX1_1[6,6];
	real hidden adjAdjX1_2[6,6];
	real hidden adjAdjX1_3[6,6];
	real hidden adjAdjX1_4[6,6];
	real hidden adjAdjX1_5[6,6];
	real hidden adjAdjX1_6[6,6];
	real hidden AdjX2[6];
	real hidden AdjX2_T[1,6];
	real hidden adjAdjX2[6,6];
	real hidden AdjX3[6];
	real hidden AdjX3_T[1,6];
	real hidden adjAdjX3[6,6];
	real hidden J1[6,8];
	real hidden J2[6,8];
	real hidden J3[6,8];
	real hidden T1_00[6];
	real hidden T1_00T[1,6];
	real hidden T2_00[6];
	real hidden T2_00T[1,6];
	real hidden T3_00[6];
	real hidden T3_00T[1,6];
	real hidden M1[6,6];
	real hidden AdjInv1[6,6];
	real hidden TM1[1,6];
	real hidden M2[6,6];
	real hidden AdjInv2[6,6];
	real hidden TM2[1,6];
	real hidden M3[6,6];
	real hidden AdjInv3[6,6];
	real hidden TM3[1,6];
	real MassMatrix[8,8];
	real hidden M1_1[6,6];
	real hidden M2_1[1,6];
	real hidden M2_2;
	real hidden M3_1[1,6];
	real hidden M3_3;
	real hidden wrenchGrav1[1,6];
	real hidden wrenchGrav2[1,6];
	real hidden wrenchGrav3[1,6];
	real VelocityCar\ConnectionPoint1\invAdjointNoOriH[6,6];
	real VelocityCar\ConnectionPoint1\AbsHPos[3];
	real hidden VelocityCar_Flow[6];
	real CarBodyFree\Bk[6,6];
	real hidden CarBodyFree\skewP4to6[3,3];
	real TMSum1[1,6];
parameters
	real hidden World\H[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden World\I[6,6] = [
			0.1, 0, 0, 0, 0, 0;
			0, 0.1, 0, 0, 0, 0;
			0, 0, 0.1, 0, 0, 0;
			0, 0, 0, 1, 0, 0;
			0, 0, 0, 0, 1, 0;
			0, 0, 0, 0, 0, 1];
	real World\mass = 1;
	real hidden CarBodyFree\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real CarBodyFree\EulerXYZInitial[3] = [0;-0.1;0];
	real hidden CarBodyFree\xInitial[3] = [-0.1;0;1.1];
	real hidden CarBody\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden CarBody\I[6,6] = [
			0.00012037, 0, 0, 0, 0, 0;
			0, 0.00012037, 0, 0, 0, 0;
			0, 0, 0.00012037, 0, 0, 0;
			0, 0, 0, 1, 0, 0;
			0, 0, 0, 0, 1, 0;
			0, 0, 0, 0, 0, 1];
	real CarBody\mass = 90;
	real hidden LeftWheelJoint\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, -0.3;
			0, 0, 1, -0.9;
			0, 0, 0, 1];
	real LeftWheelJoint\phiInitial = 0;
	real hidden LeftWheel\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, -0.025;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden LeftWheel\I[6,6] = [
			0.0001333334, 0, 0, 0, 0, 0;
			0, 0.0002, 0, 0, 0, 0;
			0, 0, 0.0001333334, 0, 0, 0;
			0, 0, 0, 1, 0, 0;
			0, 0, 0, 0, 1, 0;
			0, 0, 0, 0, 0, 1];
	real LeftWheel\mass = 0.5;
	real hidden LeftWheelAbsH\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, -0.01;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden LeftWheelContact\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, -0.01;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden RightWheelJoint\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0.3;
			0, 0, 1, -0.9;
			0, 0, 0, 1];
	real RightWheelJoint\phiInitial = 0;
	real hidden RightWheel\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0.025;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden RightWheel\I[6,6] = [
			0.0001333334, 0, 0, 0, 0, 0;
			0, 0.0002, 0, 0, 0, 0;
			0, 0, 0.0001333334, 0, 0, 0;
			0, 0, 0, 1, 0, 0;
			0, 0, 0, 0, 1, 0;
			0, 0, 0, 0, 0, 1];
	real RightWheel\mass = 0.5;
	real hidden RightWheelAbsH\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0.01;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden RightWheelContact\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0.01;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden RBody\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0;
			0, 0, 1, 0;
			0, 0, 0, 1];
	real hidden VelocityCar\ConnectionPoint1\RelH[4,4] = [
			1, 0, 0, 0;
			0, 1, 0, 0;
			0, 0, 1, -0.025;
			0, 0, 0, 1];
	real hidden PDotInitial[8] = [0; 0; 0; 0; 0; 0; 0; 0];
initialequations
	CarBodyFree\rotationInitial = dll ('EulerAngles.dll', 'HMatrixFromEulXYZr', CarBodyFree\EulerXYZInitial);
	CarBodyFree\quatInitial = dll ('EulerAngles.dll', 'QuaternionFromHMatrix', CarBodyFree\rotationInitial);
	CarBodyFree\RelH[4, 1:3] = 0;
	CarBodyFree\RelH[4, 4] = 1;
	J1[1:6, 7] = 0;
	J1[1:6, 8] = 0;
	J2[1:6, 8] = 0;
	J3[1:6, 7] = 0;
	MassMatrix[7, 8] = 0;
	MassMatrix[8, 7] = 0;
	CarBodyFree\Bk[4:6, 4:6] = 0;
equations
	World\AbsH = World\H;
	World\mass_x_I = World\mass * World\I;
	CarBodyFree\ConnectionPoint1\AbsH = multiplyH (World\AbsH, CarBodyFree\ConnectionPoint1\RelH);
	CarBodyFree\QOmega = [0, -CarBodyFree\vgen[3], CarBodyFree\vgen[2], -CarBodyFree\vgen[1];
				CarBodyFree\vgen[3], 0, -CarBodyFree\vgen[1], -CarBodyFree\vgen[2];
				-CarBodyFree\vgen[2], CarBodyFree\vgen[1], 0, -CarBodyFree\vgen[3];
				CarBodyFree\vgen[1], CarBodyFree\vgen[2], CarBodyFree\vgen[3], 0];
	CarBodyFree\quat = int (CarBodyFree\quatDot) + CarBodyFree\quatInitial;
	CarBodyFree\quatDot = 0.5 * CarBodyFree\QOmega * CarBodyFree\quat;
	CarBodyFree\vel = CarBodyFree\vgen[4:6];
	CarBodyFree\v = skew (CarBodyFree\vgen[1:3]) * CarBodyFree\x + CarBodyFree\vel;
	CarBodyFree\x = int (CarBodyFree\v) + CarBodyFree\xInitial;
	CarBodyFree_Rot = dll ('EulerAngles.dll', 'HMatrixFromQuaternion', CarBodyFree\quat);
	CarBodyFree\RelH[1:3, 1:3] = CarBodyFree_Rot[1:3, 1:3];
	CarBodyFree\RelH[1:3, 4] = CarBodyFree\x;
	CarBodyFree\AbsH = multiplyH (CarBodyFree\ConnectionPoint1\AbsH, CarBodyFree\RelH);
	CarBodyFree\ConnectionPoint2\AbsH = CarBodyFree\AbsH;
	CarBody\AbsH = multiplyH (CarBodyFree\ConnectionPoint2\AbsH, CarBody\RelH);
	CarBody\mass_x_I = CarBody\mass * CarBody\I;
	LeftWheelJoint\ConnectionPoint1\AbsH = multiplyH (CarBody\AbsH, LeftWheelJoint\ConnectionPoint1\RelH);
	LeftWheelJoint\phi = int (LeftWheelJoint\omega) + LeftWheelJoint\phiInitial;
	LeftWheelJoint\sinTh = sin (LeftWheelJoint\phi);
	LeftWheelJoint\CosTh = cos (LeftWheelJoint\phi);
	LeftWheelJoint\Rot = [LeftWheelJoint\CosTh, 0, LeftWheelJoint\sinTh;
				0, 1, 0;
				-LeftWheelJoint\sinTh, 0, LeftWheelJoint\CosTh];
	LeftWheelJoint\Pos = 0;
	LeftWheelJoint\RelH = homogeneous (LeftWheelJoint\Rot, LeftWheelJoint\Pos);
	LeftWheelJoint\AbsH = multiplyH (LeftWheelJoint\ConnectionPoint1\AbsH, LeftWheelJoint\RelH);
	LeftWheelJoint\ConnectionPoint2\AbsH = LeftWheelJoint\AbsH;
	LeftWheel\AbsH = multiplyH (LeftWheelJoint\ConnectionPoint2\AbsH, LeftWheel\RelH);
	LeftWheel\mass_x_I = LeftWheel\mass * LeftWheel\I;
	LeftWheelAbsH\ConnectionPoint1\AbsH = multiplyH (LeftWheel\AbsH, LeftWheelAbsH\ConnectionPoint1\RelH);
	LeftWheelContact\ConnectionPoint1\AbsH = multiplyH (LeftWheel\AbsH, LeftWheelContact\ConnectionPoint1\RelH);
	LeftWheelJoint\ConnectionPoint2\AbsHinverse = inverseH (LeftWheelJoint\ConnectionPoint2\AbsH);
	LeftWheelJoint\Wrench = [0, LeftWheelJoint\torque, 0, 0, 0, 0] * Adjoint (LeftWheelJoint\ConnectionPoint2\AbsHinverse);
	RightWheelJoint\ConnectionPoint1\AbsH = multiplyH (CarBody\AbsH, RightWheelJoint\ConnectionPoint1\RelH);
	RightWheelJoint\phi = int (RightWheelJoint\omega) + RightWheelJoint\phiInitial;
	RightWheelJoint\sinTh = sin (RightWheelJoint\phi);
	RightWheelJoint\CosTh = cos (RightWheelJoint\phi);
	RightWheelJoint\Rot = [RightWheelJoint\CosTh, 0, RightWheelJoint\sinTh;
				0, 1, 0;
				-RightWheelJoint\sinTh, 0, RightWheelJoint\CosTh];
	RightWheelJoint\Pos = 0;
	RightWheelJoint\RelH = homogeneous (RightWheelJoint\Rot, RightWheelJoint\Pos);
	RightWheelJoint\AbsH = multiplyH (RightWheelJoint\ConnectionPoint1\AbsH, RightWheelJoint\RelH);
	RightWheelJoint\ConnectionPoint2\AbsH = RightWheelJoint\AbsH;
	RightWheel\AbsH = multiplyH (RightWheelJoint\ConnectionPoint2\AbsH, RightWheel\RelH);
	RightWheel\mass_x_I = RightWheel\mass * RightWheel\I;
	RightWheelAbsH\ConnectionPoint1\AbsH = multiplyH (RightWheel\AbsH, RightWheelAbsH\ConnectionPoint1\RelH);
	RightWheelContact\ConnectionPoint1\AbsH = multiplyH (RightWheel\AbsH, RightWheelContact\ConnectionPoint1\RelH);
	RightWheelJoint\ConnectionPoint2\AbsHinverse = inverseH (RightWheelJoint\ConnectionPoint2\AbsH);
	RightWheelJoint\Wrench = [0, RightWheelJoint\torque, 0, 0, 0, 0] * Adjoint (RightWheelJoint\ConnectionPoint2\AbsHinverse);
	RBody\ConnectionPoint1\AbsH = multiplyH (CarBody\AbsH, RBody\ConnectionPoint1\RelH);
	VelocityCar\ConnectionPoint1\AbsH = multiplyH (CarBody\AbsH, VelocityCar\ConnectionPoint1\RelH);
	AdjX1 = Adjoint (CarBodyFree\ConnectionPoint1\AbsH);
	AdjX1_T = transpose (AdjX1);
	adjAdjX1_1 = adjoint (AdjX1[1:6, 1]);
	adjAdjX1_2 = adjoint (AdjX1[1:6, 2]);
	adjAdjX1_3 = adjoint (AdjX1[1:6, 3]);
	adjAdjX1_4 = adjoint (AdjX1[1:6, 4]);
	adjAdjX1_5 = adjoint (AdjX1[1:6, 5]);
	adjAdjX1_6 = adjoint (AdjX1[1:6, 6]);
	AdjX2[1:3] = LeftWheelJoint\ConnectionPoint1\AbsH[1:3, 2];
	AdjX2[4] = LeftWheelJoint\ConnectionPoint1\AbsH[2, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[3, 2] - LeftWheelJoint\ConnectionPoint1\AbsH[3, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[2, 2];
	AdjX2[5] = LeftWheelJoint\ConnectionPoint1\AbsH[3, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[1, 2] - LeftWheelJoint\ConnectionPoint1\AbsH[1, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[3, 2];
	AdjX2[6] = LeftWheelJoint\ConnectionPoint1\AbsH[1, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[2, 2] - LeftWheelJoint\ConnectionPoint1\AbsH[2, 4] * LeftWheelJoint\ConnectionPoint1\AbsH[1, 2];
	AdjX2_T = transpose (AdjX2);
	adjAdjX2 = adjoint (AdjX2);
	AdjX3[1:3] = RightWheelJoint\ConnectionPoint1\AbsH[1:3, 2];
	AdjX3[4] = RightWheelJoint\ConnectionPoint1\AbsH[2, 4] * RightWheelJoint\ConnectionPoint1\AbsH[3, 2] - RightWheelJoint\ConnectionPoint1\AbsH[3, 4] * RightWheelJoint\ConnectionPoint1\AbsH[2, 2];
	AdjX3[5] = RightWheelJoint\ConnectionPoint1\AbsH[3, 4] * RightWheelJoint\ConnectionPoint1\AbsH[1, 2] - RightWheelJoint\ConnectionPoint1\AbsH[1, 4] * RightWheelJoint\ConnectionPoint1\AbsH[3, 2];
	AdjX3[6] = RightWheelJoint\ConnectionPoint1\AbsH[1, 4] * RightWheelJoint\ConnectionPoint1\AbsH[2, 2] - RightWheelJoint\ConnectionPoint1\AbsH[2, 4] * RightWheelJoint\ConnectionPoint1\AbsH[1, 2];
	AdjX3_T = transpose (AdjX3);
	adjAdjX3 = adjoint (AdjX3);
	J1[1:6, 1:6] = AdjX1;
	J2[1:6, 1:6] = AdjX1;
	J2[1:6, 7] = AdjX2;
	J3[1:6, 1:6] = AdjX1;
	J3[1:6, 8] = AdjX3;
	T1_00 = J1 * v;
	T1_00T = transpose (T1_00);
	T2_00 = J2 * v;
	T2_00T = transpose (T2_00);
	T3_00 = J3 * v;
	T3_00T = transpose (T3_00);
	AdjInv1 = Adjoint (inverseH (CarBody\AbsH));
	M1 = transpose (AdjInv1) * CarBody\mass_x_I * AdjInv1;
	TM1 = T1_00T * M1;
	AdjInv2 = Adjoint (inverseH (LeftWheel\AbsH));
	M2 = transpose (AdjInv2) * LeftWheel\mass_x_I * AdjInv2;
	TM2 = T2_00T * M2;
	AdjInv3 = Adjoint (inverseH (RightWheel\AbsH));
	M3 = transpose (AdjInv3) * RightWheel\mass_x_I * AdjInv3;
	TM3 = T3_00T * M3;
	M1_1 = AdjX1_T * (M1 + M2 + M3) * AdjX1;
	M2_1 = AdjX2_T * M2 * AdjX1;
	M2_2 = AdjX2_T * M2 * AdjX2;
	M3_1 = AdjX3_T * M3 * AdjX1;
	M3_3 = AdjX3_T * M3 * AdjX3;
	MassMatrix[1:6, 1:6] = M1_1;
	MassMatrix[1:6, 7] = transpose (M2_1);
	MassMatrix[1:6, 8] = transpose (M3_1);
	MassMatrix[7, 1:6] = M2_1;
	MassMatrix[7, 7] = M2_2;
	MassMatrix[8, 1:6] = M3_1;
	MassMatrix[8, 8] = M3_3;
	wrenchGrav1 = CarBody\mass * [-9.81 * CarBody\AbsH[2, 4], 9.81 * CarBody\AbsH[1, 4], 0, 0, 0, -9.81];
	wrenchGrav2 = LeftWheel\mass * [-9.81 * LeftWheel\AbsH[2, 4], 9.81 * LeftWheel\AbsH[1, 4], 0, 0, 0, -9.81];
	wrenchGrav3 = RightWheel\mass * [-9.81 * RightWheel\AbsH[2, 4], 9.81 * RightWheel\AbsH[1, 4], 0, 0, 0, -9.81];
	LeftWheelAbsH = LeftWheelAbsH\ConnectionPoint1\AbsH;
	RightWheelAbsH = RightWheelAbsH\ConnectionPoint1\AbsH;
	LeftWheelContact.f = T2_00;
	RightWheelContact.f = T3_00;
	RBody = RBody\ConnectionPoint1\AbsH[1:3, 1:3];
	VelocityCar\ConnectionPoint1\AbsHPos = VelocityCar\ConnectionPoint1\AbsH[1:3, 4];
	VelocityCar\ConnectionPoint1\invAdjointNoOriH = Adjoint (eye (3), -VelocityCar\ConnectionPoint1\AbsHPos);
	VelocityCar_Flow = VelocityCar\ConnectionPoint1\invAdjointNoOriH * J1 * v;
	VelocityCar = VelocityCar_Flow[4:6];
	CarBodyFree\skewP4to6 = skew (P[4:6]);
	CarBodyFree\Bk[1:3, 1:3] = skew (P[1:3]);
	CarBodyFree\Bk[4:6, 1:3] = CarBodyFree\skewP4to6;
	CarBodyFree\Bk[1:3, 4:6] = CarBodyFree\skewP4to6;
	TMSum1 = TM1 + TM2 + TM3;
	PDotBodies[1:6] = -[TMSum1 * adjAdjX1_1 * T1_00;
				TMSum1 * adjAdjX1_2 * T1_00;
				TMSum1 * adjAdjX1_3 * T1_00;
				TMSum1 * adjAdjX1_4 * T1_00;
				TMSum1 * adjAdjX1_5 * T1_00;
				TMSum1 * adjAdjX1_6 * T1_00] - CarBodyFree\Bk * v[1:6];
	PDotBodies[7] = -(TM2 * adjAdjX2 * T2_00);
	PDotBodies[8] = -(TM3 * adjAdjX3 * T3_00);
	PDot = PDotBodies + transpose (wrenchGrav1 * J1 + wrenchGrav2 * J2 + wrenchGrav3 * J3 + transpose (LeftWheelContact.e) * J2 + transpose (RightWheelContact.e) * J3 + LeftWheelJoint\Wrench * (J2 - J1) + RightWheelJoint\Wrench * (J3 - J1));
	P = int (PDot) + PDotInitial;
	v = linsolve (MassMatrix, P, 'cholesky');
	LeftWheelJoint\omega = v[7];
	RightWheelJoint\omega = v[8];
	CarBodyFree\vgen = v[1:6];
	LeftWheelJoint\torque = LeftWheelJoint.e;
	LeftWheelJoint.f = LeftWheelJoint\omega;
	RightWheelJoint\torque = RightWheelJoint.e;
	RightWheelJoint.f = RightWheelJoint\omega;
implementation_end;
      Demux 312 472
						specifications active 'outputs_3'
							specification 'outputs_4'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [4,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
		output4 = input[4];implementation_end;
specification_end;
							specification 'outputs_8'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [8,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
   signal out output5;
   signal out output6;
   signal out output7;
   signal out output8;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
	output4 = input[4];
	output5 = input[5];
	output6 = input[6];
	output7 = input[7];
		output8 = input[8];implementation_end;
specification_end;
							specification 'outputs_9'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [9,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
   signal out output5;
   signal out output6;
   signal out output7;
   signal out output8;
   signal out output9;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
	output4 = input[4];
	output5 = input[5];
	output6 = input[6];
	output7 = input[7];
	output8 = input[8];
		output9 = input[9];implementation_end;
specification_end;
							specification 'outputs_5'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [5,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
   signal out output5;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
	output4 = input[4];
		output5 = input[5];implementation_end;
specification_end;
							specification 'outputs_7'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [8,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
   signal out output5;
   signal out output6;
   signal out output7;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
	output4 = input[4];
	output5 = input[5];
	output6 = input[6];
		output7 = input[7];implementation_end;
specification_end;
							specification 'outputs_3'
 description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [3,1];
   signal out output1;
   signal out output2;
   signal out output3;
 end;
 icon bg bottom
  figures
   line 312 456 312 488;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
		output3 = input[3];implementation_end;
specification_end;
							specification 'outputs_1'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input;
   signal out output;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output = input;implementation_end;
specification_end;
							specification 'outputs_2'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [2,1];
   signal out output1;
   signal out output2;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
		output2 = input[2];implementation_end;
specification_end;
							specification 'outputs_6'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:12:50</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [6,1];
   signal out output1;
   signal out output2;
   signal out output3;
   signal out output4;
   signal out output5;
   signal out output6;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
	output2 = input[2];
	output3 = input[3];
	output4 = input[4];
	output5 = input[5];
		output6 = input[6];implementation_end;
specification_end;
							specification 'default'
description '<Description>
   <Version>4.1</Version>
  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>
  <TimeStamp>2011-3-4 15:04:20</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type Submodel
  ports
   signal in input [2,1];
   signal out output1;
   signal out output2;
 end;
 icon bg
  figures
   line 344 136 344 168;
 end;
 implementation eq
equations
	output1 = input[1];
		output2 = input[2];implementation_end;
specification_end;
						end;
      EngineLeft 352 336
       description '<Description>
 <Version>No Version Info</Version>
 <IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type GY
        ports
         power in p1;
         power out p2;
         signal in sasw;
        restrictions
         causality constraint equal p1 p2;
       end;
       icon bg top
        figures
         text 'GY' 352 336 18 bold;
       end;
       implementation eq
parameters
	real r = 0.735;
equations
	p1.e = r * p2.f * (1.0 - sasw);
	p2.e = r * p1.f * (1.0 - sasw);     implementation_end;
      EngineRight 656 336
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\GY.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:2:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type GY
        ports
         power in p1;
         power out p2;
         signal in sasw;
        restrictions
         causality constraint equal p1 p2;
       end;
       icon bg bottom
        figures
         text 'GY' 656 336 18 bold;
       end;
       implementation eq
parameters
	real r = 0.735;
equations
	p1.e = r * p2.f * (1.0 - sasw);
	p2.e = r * p1.f * (1.0 - sasw);
implementation_end;
      Filter1 656 80
       type 'Filter-LowPass1'
        ports
         signal in u;
         signal out y;
        parameters
         real K = 1.0;
         real f = 500.0 {Hz};
       end;
       icon bg bottom
        figures
         rectangle 631 65 681 95 fill 15132390;
         text 'LP-1' 656 75 color 16711680 14 bold;
         text 'filter' 656 87;
       end;
       implementation eq
// 20-sim Filter Editor
// 'Low Pass First Order Filter' 1 50
variables
	real hidden n[2], d[2];
initialequations
	// create numerator and denominator coefficients
	n = [0; K];
	d = [1 / (2 * pi * f); 1];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y));
implementation_end;
      Filter3 352 160
       type 'Filter-LowPass1'
        ports
         signal in u;
         signal out y;
        parameters
         real K = 1.0;
         real f = 500.0 {Hz};
       end;
       icon bg bottom
        figures
         rectangle 327 145 377 175 fill 15132390;
         text 'LP-1' 352 155 color 16711680 14 bold;
         text 'filter' 352 167;
       end;
       implementation eq
// 20-sim Filter Editor
// 'Low Pass First Order Filter' 1 50
variables
	real hidden n[2], d[2];
initialequations
	// create numerator and denominator coefficients
	n = [0; K];
	d = [1 / (2 * pi * f); 1];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y));
implementation_end;
      friction 288 408
       type R
        ports
         power in p;
        parameters
         real r = 0.15;
       end;
       icon bg top
        figures
         text 'R' 288 408 18 bold;
       end;
       implementation eq
equations					
	p.e = r * p.f;    implementation_end;
      LeftWheelContact 352 544
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         signal in AbsH [4,4];
         mechanical psi out WheelContactForce [6,1];
       end;
       icon bg
        figures
         rectangle 279 521 425 567 fill 14013909;
         text 'name' 353 543 16;
        terminals
         WheelContactForce 411.8 521;
       end;
       implementation bg
        submodels
         FixedWorld 280 272
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\FixedWorld.emx</LibraryPath>
  <TimeStamp>2007-9-26 10:35:34</TimeStamp>
</Description>';
          type FixedWorld
           ports
            translation psi duplicatable in p;
           restrictions
            causality fixed in p;
          end;
          icon ipm bottom
           figures
            line 291.2 266.1 269.9 266.1 width 2;
            line 291.2 266.1 285.9 271.5;
            line 285.9 266.1 280.5 271.5;
            line 280.5 266.1 275.2 271.5;
            line 275.2 266.1 269.9 271.5;
            rectangle 264 264 296 280 color -1;
           terminals
            p 280 264;
            p 280 264;
          end;
          implementation eq
equations
	p.v = 0;
 implementation_end;
         FrictionX 240 232
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\Damper.emx</LibraryPath>
 <TimeStamp>2007-11-15 15:48:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Damper
           ports
            translation delta in p;
            signal in zPositionLowestPoint {m} ;
          end;
          icon ipm left
           figures
            line 240 234.7 240 256;
            line 240 208 240 229.3;
            line 248.5 234.7 231.5 234.7;
            line 248.5 224 248.5 234.7;
            line 231.5 224 231.5 234.7;
            line 245.3 229.3 234.7 229.3;
            rectangle 224 208 256 256 color -1;
           terminals
            p high 240 208 fixed;
            p low 240 256 fixed;
          end;
          implementation eq
parameters
	real d = 1.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				d * p.v
			else
				d * p.v
			end;
   implementation_end;
         FrictionY 280 232
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\Damper.emx</LibraryPath>
 <TimeStamp>2007-11-15 15:48:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Damper
           ports
            translation delta in p;
            signal in zPositionLowestPoint {m} ;
          end;
          icon ipm right
           figures
            line 280 234.7 280 256;
            line 280 208 280 229.3;
            line 288.5 234.7 271.5 234.7;
            line 288.5 224 288.5 234.7;
            line 271.5 224 271.5 234.7;
            line 285.3 229.3 274.7 229.3;
            rectangle 264 208 296 256 color -1;
           terminals
            p high 280 208 fixed;
            p low 280 256 fixed;
          end;
          implementation eq
parameters
	real d = 10000.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				d * p.v
			else
				d * p.v
			end;
   implementation_end;
         GroundContactZ 360 224
									specifications active 'default'
										specification 'stiffness'
description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
  <TimeStamp>2008-1-24 10:10:10</TimeStamp>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
  restrictions
   causality preferred out p;
 end;
 icon bg bottom
  figures
   line 149.3 343.5 149.3 327.5 153.6 321.6 159.5 333.4 165.3 321.6 171.2 333.4 177.1 321.6 182.9 333.4 186.7 327.5 186.7 343.5;
   line 149.3 335.8 144 336;
   line 186.7 336 192 336;
   line 160 336.6 170.7 336.6 170.7 350.4 160 350.4;
   line 149.3 343.5 165.3 343.5;
   line 165.3 348.3 165.3 338.7;
   line 170.7 343.5 186.7 343.5;
  terminals
   p high 144 336 fixed;
   p low 192 336 fixed;
 end;
 implementation eq
parameters
	real k = 10.0 {N/m};			// stiffness
	real m = 1.0 {kg};			// reference mass
	real b = 0.05 {};				// relative damping
variables
	real x {m};   					// extension
	real d  {damping,N.s/m}; 	// damping
initialequations
	d = 2*b*sqrt(k*m);
equations
	x = int (p.v);
	p.F = k * x + d*p.v;
implementation_end;
specification_end;
										specification 'frequency'
description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
  <TimeStamp>2008-1-24 10:10:10</TimeStamp>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
  restrictions
   causality preferred out p;
 end;
 icon bg bottom
  figures
   line 149.3 343.5 149.3 327.5 153.6 321.6 159.5 333.4 165.3 321.6 171.2 333.4 177.1 321.6 182.9 333.4 186.7 327.5 186.7 343.5;
   line 149.3 335.8 144 336;
   line 186.7 336 192 336;
   line 160 336.6 170.7 336.6 170.7 350.4 160 350.4;
   line 149.3 343.5 165.3 343.5;
   line 165.3 348.3 165.3 338.7;
   line 170.7 343.5 186.7 343.5;
  terminals
   p high 144 336 fixed;
   p low 192 336 fixed;
 end;
 implementation eq
parameters
	real f = 10.0 {Hz};			// rresonance frequency
	real m = 1.0 {kg};			// reference mass
	real b = 0.05 {};				// relative damping
variables
	real x {m};   					// extension
	real k  {stiffness,N/m}; 		// stiffness
	real d  {damping,N.s/m}; 	// damping
initialequations
	k = m*(6.283185307*f)^2;
	d = 2*b*6.28319*f*m;
equations
	x = int (p.v);
	p.F = k * x + d*p.v;
implementation_end;
specification_end;
										specification 'default'
 description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
 <TimeStamp>2008-1-24 10:10:10</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
   signal in zPositionLowestPoint {m} ;
  restrictions
   causality preferred out p;
 end;
 icon bg right
  figures
   line 352.5 205.3 368.5 205.3 374.4 209.6 362.6 215.5 374.4 221.3 362.6 227.2 374.4 233.1 362.6 238.9 368.5 242.7 352.5 242.7;
   line 360.2 205.3 360 200;
   line 360 242.7 360 248;
   line 359.4 216 359.4 226.7 345.6 226.7 345.6 216;
   line 352.5 205.3 352.5 221.3;
   line 347.7 221.3 357.3 221.3;
   line 352.5 226.7 352.5 242.7;
  terminals
   p high 360 200 fixed;
   p low 360 248 fixed;
 end;
 implementation eq
parameters
	real k = 100000.0 {N/m};			// stiffness
	real d = 1000.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				k * zPositionLowestPoint + d*p.v
			else
				0.0
			end;
implementation_end;
specification_end;
									end;
         plug AbsH 128 128;
         plug WheelContactForce 304 64;
         Node1 279.9 255.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 252.7 283.1 259.1 color -1 fill 0;
            ellipse 275.6 251.6 284.1 260.1 color -1;
           terminals
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node2 239.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 236.7 164.7 243.1 171.1 color -1 fill 0;
            ellipse 235.6 163.6 244.1 172.1 color -1;
           terminals
            p 239.9 167.9 fixed;
            p 239.9 167.9 fixed;
            p 239.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node3 359.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 356.7 164.7 363.1 171.1 color -1 fill 0;
            ellipse 355.6 163.6 364.1 172.1 color -1;
           terminals
            p 359.9 167.9 fixed;
            p 359.9 167.9 fixed;
            p 359.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node4 279.9 255.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 252.7 283.1 259.1 color -1 fill 0;
            ellipse 275.6 251.6 284.1 260.1 color -1;
           terminals
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node5 279.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 164.7 283.1 171.1 color -1 fill 0;
            ellipse 275.6 163.6 284.1 172.1 color -1;
           terminals
            p 279.9 167.9 fixed;
            p 279.9 167.9 fixed;
            p 279.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Splitter1 312 168
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 308.8 164.8 315.2 171.2 color -1 fill 0;
            ellipse 307.7 163.7 316.3 172.3 color -1;
           terminals
            input 312 168 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Transformations 304 128
          description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Submodel
           ports
            signal in AbsH [4,4];
            mechanical psi out WheelContactForce [6,1];
            signal out zLowestPosition {m} ;
            mechanical psi in ForceX;
            mechanical psi in ForceY;
            mechanical psi in ForceZ;
           restrictions
            causality fixed in ForceY;
            causality fixed in ForceZ;
            causality fixed in ForceX;
            causality fixed out WheelContactForce;
          end;
          icon bg
           figures
            rectangle 239 105 369 151 fill 14013909;
            text 'name' 305 127 16;
           terminals
            WheelContactForce 304 105;
            ForceX 267.1 151;
            ForceY 290.2 151;
            ForceZ 336.2 151;
          end;
          implementation eq
parameters
	real global g_radius = 0.15 {m};
variables
	real LowestPointAbsH[4,4];

	real AbsHinverse[4,4];
	real invAdjointH[6,6];
	real WheelWrench[1,6];
	real WheelTwist[6];

equations
	
	// copy all values from the AbsH matrix
	// but by subtracting the g_radius from the z-coordinate

	// the rotation part
	// now unity, so no rotation w.r.t. inertial frame
	LowestPointAbsH[1:3,1:3] = eye(3);

	// the position part
	LowestPointAbsH[1,4] = AbsH[1,4];				// x-position
	LowestPointAbsH[2,4] = AbsH[2,4];				// y-position
	LowestPointAbsH[3,4] = AbsH[3,4] - g_radius;	// z-position

	// and the last row, which is [0, 0, 0, 1];
	LowestPointAbsH[4,1:4] = AbsH[4,1:4];

	// and set the output port
	zLowestPosition = LowestPointAbsH[3,4];


	// make an adjoint matrix, so we can transform a force
	// acting on the lowest point, to the center of the body
	AbsHinverse = inverseH (LowestPointAbsH);
	invAdjointH = Adjoint (AbsHinverse);

	// make a 1x6 vector holding the tranlatational forces
	WheelWrench = [0.0, 0.0, 0.0, ForceX.F, ForceY.F, ForceZ.F];

	// transform the incoming WheelContactForce vector
	WheelContactForce.F =  transpose (WheelWrench * invAdjointH);

	// and do the same for the twist (velocity) vector
	WheelTwist = invAdjointH * WheelContactForce.v;

	// and pass the velocity
	ForceX.v = WheelTwist[4];
	ForceY.v = WheelTwist[5];
	ForceZ.v = WheelTwist[6];
implementation_end;
        end;
        connections
         Transformations\WheelContactForce => WheelContactForce;
         FrictionY\p_low => Node4\p;
         Transformations\ForceZ <= Node3\p;
         Node3\p => GroundContactZ\p_high;
         FrictionX\p_low => Node4\p;
         Transformations\ForceX <= Node2\p;
         Node4\p => Node1\p;
         Node2\p => FrictionX\p_high;
         GroundContactZ\p_low => Node4\p 360 256;
         Transformations\ForceY <= Node5\p;
         Node1\p => FixedWorld\p;
         Node5\p => FrictionY\p_high;
         AbsH -> Transformations\AbsH;
         Transformations\zLowestPosition -> Splitter1\input;
         Splitter1\output -> FrictionY\zPositionLowestPoint 312 168;
         Splitter1\output -> GroundContactZ\zPositionLowestPoint;
         Splitter1\output -> FrictionX\zPositionLowestPoint;
        end;
       implementation_end;
      MSf 656 232
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\MSf.emx</LibraryPath>
  <TimeStamp>2007-9-25 12:2:55</TimeStamp>
</Description>';
       type MSf
        ports
         power out p;
         signal in flow;
        restrictions
         causality fixed in p;
       end;
       icon bg bottom
        figures
         text 'MSf' 656 232 18 bold;
       end;
       implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
      MSf1 504 216
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\MSf.emx</LibraryPath>
  <TimeStamp>2007-9-25 12:2:55</TimeStamp>
</Description>';
       type MSf
        ports
         power out p;
         signal in flow;
        restrictions
         causality fixed in p;
       end;
       icon bg bottom
        figures
         text 'MSf' 504 216 18 bold;
       end;
       implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;
implementation_end;
      MSf2 352 232
       type MSf
        ports
         power out p;
         signal in flow;
        restrictions
         causality fixed in p;
       end;
       icon bg top
        figures
         text 'MSf' 352 232 18 bold;
       end;
       implementation eq
variables
	real effort;
equations
	p.f = flow; 
	effort = p.e;    implementation_end;
      plug PwmR 168 80;
      plug PwmL 168 160;
      plug Angle_out 176 616;
      plug Velocity_in 160 120;
      plug saswL 168 224;
      plug Forward_velocity_out 136 472;
      plug saswR 168 40;
      Node1 575.9 503.9
       description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Node
        ports
         mechanical knot psi duplicatable none p [6,1];
       end;
       icon bg ellipse
        figures
         ellipse 572.7 500.7 579.1 507.1 color -1 fill 0;
         ellipse 571.6 499.6 580.1 508.1 color -1;
        terminals
         p 575.9 503.9 fixed;
         p 575.9 503.9 fixed;
         p 575.9 503.9 fixed;
       end;
       implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
      OneJunction 656 408
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
       knot OneJunction
        ports
         rotation knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 656 408 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction1 504 288
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
       knot OneJunction
        ports
         power knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 504 288 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
      OneJunction8 352 408
       knot OneJunction
        ports
         rotation knot duplicatable none p [1];
         signal knot out flow [1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg top
        figures
         text '1' 352 408 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
      R 736 408
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\R.emx</LibraryPath>
  <TimeStamp>2007-9-25 12:3:18</TimeStamp>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 736 408 18 bold;
       end;
       implementation eq
parameters
	real r = 0.15;
equations					
	p.e = r * p.f;
implementation_end;
      RightWheelContact 680 544
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         signal in AbsH [4,4];
         mechanical psi out WheelContactForce [6,1];
       end;
       icon bg
        figures
         rectangle 607 521 753 567 fill 14013909;
         text 'name' 681 543 16;
        terminals
         WheelContactForce 620.2 521;
       end;
       implementation bg
        submodels
         FixedWorld 280 272
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\FixedWorld.emx</LibraryPath>
  <TimeStamp>2007-9-26 10:35:34</TimeStamp>
</Description>';
          type FixedWorld
           ports
            translation psi duplicatable in p;
           restrictions
            causality fixed in p;
          end;
          icon ipm bottom
           figures
            line 291.2 266.1 269.9 266.1 width 2;
            line 291.2 266.1 285.9 271.5;
            line 285.9 266.1 280.5 271.5;
            line 280.5 266.1 275.2 271.5;
            line 275.2 266.1 269.9 271.5;
            rectangle 264 264 296 280 color -1;
           terminals
            p 280 264;
            p 280 264;
          end;
          implementation eq
equations
	p.v = 0;
 implementation_end;
         FrictionX 240 232
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\Damper.emx</LibraryPath>
 <TimeStamp>2007-11-15 15:48:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Damper
           ports
            translation delta in p;
            signal in zPositionLowestPoint {m} ;
          end;
          icon ipm left
           figures
            line 240 234.7 240 256;
            line 240 208 240 229.3;
            line 248.5 234.7 231.5 234.7;
            line 248.5 224 248.5 234.7;
            line 231.5 224 231.5 234.7;
            line 245.3 229.3 234.7 229.3;
            rectangle 224 208 256 256 color -1;
           terminals
            p high 240 208 fixed;
            p low 240 256 fixed;
          end;
          implementation eq
parameters
	real d = 100.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				d * p.v
			else
				d * p.v
			end;
   implementation_end;
         FrictionY 280 232
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Translation\Components\Damper.emx</LibraryPath>
 <TimeStamp>2007-11-15 15:48:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Damper
           ports
            translation delta in p;
            signal in zPositionLowestPoint {m} ;
          end;
          icon ipm right
           figures
            line 280 234.7 280 256;
            line 280 208 280 229.3;
            line 288.5 234.7 271.5 234.7;
            line 288.5 224 288.5 234.7;
            line 271.5 224 271.5 234.7;
            line 285.3 229.3 274.7 229.3;
            rectangle 264 208 296 256 color -1;
           terminals
            p high 280 208 fixed;
            p low 280 256 fixed;
          end;
          implementation eq
parameters
	real d = 10000.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				d * p.v
			else
				d * p.v
			end;
   implementation_end;
         GroundContactZ 360 224
									specifications active 'default'
										specification 'stiffness'
description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
  <TimeStamp>2008-1-24 10:10:10</TimeStamp>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
  restrictions
   causality preferred out p;
 end;
 icon bg bottom
  figures
   line 149.3 343.5 149.3 327.5 153.6 321.6 159.5 333.4 165.3 321.6 171.2 333.4 177.1 321.6 182.9 333.4 186.7 327.5 186.7 343.5;
   line 149.3 335.8 144 336;
   line 186.7 336 192 336;
   line 160 336.6 170.7 336.6 170.7 350.4 160 350.4;
   line 149.3 343.5 165.3 343.5;
   line 165.3 348.3 165.3 338.7;
   line 170.7 343.5 186.7 343.5;
  terminals
   p high 144 336 fixed;
   p low 192 336 fixed;
 end;
 implementation eq
parameters
	real k = 10.0 {N/m};			// stiffness
	real m = 1.0 {kg};			// reference mass
	real b = 0.05 {};				// relative damping
variables
	real x {m};   					// extension
	real d  {damping,N.s/m}; 	// damping
initialequations
	d = 2*b*sqrt(k*m);
equations
	x = int (p.v);
	p.F = k * x + d*p.v;
implementation_end;
specification_end;
										specification 'frequency'
description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
  <TimeStamp>2008-1-24 10:10:10</TimeStamp>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
  restrictions
   causality preferred out p;
 end;
 icon bg bottom
  figures
   line 149.3 343.5 149.3 327.5 153.6 321.6 159.5 333.4 165.3 321.6 171.2 333.4 177.1 321.6 182.9 333.4 186.7 327.5 186.7 343.5;
   line 149.3 335.8 144 336;
   line 186.7 336 192 336;
   line 160 336.6 170.7 336.6 170.7 350.4 160 350.4;
   line 149.3 343.5 165.3 343.5;
   line 165.3 348.3 165.3 338.7;
   line 170.7 343.5 186.7 343.5;
  terminals
   p high 144 336 fixed;
   p low 192 336 fixed;
 end;
 implementation eq
parameters
	real f = 10.0 {Hz};			// rresonance frequency
	real m = 1.0 {kg};			// reference mass
	real b = 0.05 {};				// relative damping
variables
	real x {m};   					// extension
	real k  {stiffness,N/m}; 		// stiffness
	real d  {damping,N.s/m}; 	// damping
initialequations
	k = m*(6.283185307*f)^2;
	d = 2*b*6.28319*f*m;
equations
	x = int (p.v);
	p.F = k * x + d*p.v;
implementation_end;
specification_end;
										specification 'default'
 description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Iconic Diagrams\Mechanical\Rotation\Components\SpringDamper.emx</LibraryPath>
 <TimeStamp>2008-1-24 10:10:10</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type SpringDamper
  ports
   translation delta in p;
   signal in zPositionLowestPoint {m} ;
  restrictions
   causality preferred out p;
 end;
 icon bg right
  figures
   line 352.5 205.3 368.5 205.3 374.4 209.6 362.6 215.5 374.4 221.3 362.6 227.2 374.4 233.1 362.6 238.9 368.5 242.7 352.5 242.7;
   line 360.2 205.3 360 200;
   line 360 242.7 360 248;
   line 359.4 216 359.4 226.7 345.6 226.7 345.6 216;
   line 352.5 205.3 352.5 221.3;
   line 347.7 221.3 357.3 221.3;
   line 352.5 226.7 352.5 242.7;
  terminals
   p high 360 200 fixed;
   p low 360 248 fixed;
 end;
 implementation eq
parameters
	real k = 100000.0 {N/m};			// stiffness
	real d = 1000.0 {N.s/m};		// damping
equations
	p.F = if zPositionLowestPoint < 0 then
				k * zPositionLowestPoint + d*p.v
			else
				0.0
			end;
implementation_end;
specification_end;
									end;
         plug AbsH 128 128;
         plug WheelContactForce 304 64;
         Node1 279.9 255.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 252.7 283.1 259.1 color -1 fill 0;
            ellipse 275.6 251.6 284.1 260.1 color -1;
           terminals
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node2 239.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 236.7 164.7 243.1 171.1 color -1 fill 0;
            ellipse 235.6 163.6 244.1 172.1 color -1;
           terminals
            p 239.9 167.9 fixed;
            p 239.9 167.9 fixed;
            p 239.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node3 359.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 356.7 164.7 363.1 171.1 color -1 fill 0;
            ellipse 355.6 163.6 364.1 172.1 color -1;
           terminals
            p 359.9 167.9 fixed;
            p 359.9 167.9 fixed;
            p 359.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node4 279.9 255.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 252.7 283.1 259.1 color -1 fill 0;
            ellipse 275.6 251.6 284.1 260.1 color -1;
           terminals
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
            p 279.9 255.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Node5 279.9 167.9
          description '<Description><Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Node.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:27:14</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Node
           ports
            translation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 276.7 164.7 283.1 171.1 color -1 fill 0;
            ellipse 275.6 163.6 284.1 172.1 color -1;
           terminals
            p 279.9 167.9 fixed;
            p 279.9 167.9 fixed;
            p 279.9 167.9 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Splitter1 312 168
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 308.8 164.8 315.2 171.2 color -1 fill 0;
            ellipse 307.7 163.7 316.3 172.3 color -1;
           terminals
            input 312 168 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Transformations 304 128
          description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Submodel
           ports
            signal in AbsH [4,4];
            mechanical psi out WheelContactForce [6,1];
            signal out zLowestPosition {m} ;
            mechanical psi in ForceX;
            mechanical psi in ForceY;
            mechanical psi in ForceZ;
           restrictions
            causality fixed in ForceY;
            causality fixed in ForceZ;
            causality fixed in ForceX;
            causality fixed out WheelContactForce;
          end;
          icon bg
           figures
            rectangle 239 105 369 151 fill 14013909;
            text 'name' 305 127 16;
           terminals
            WheelContactForce 304 105;
            ForceX 267.1 151;
            ForceY 290.2 151;
            ForceZ 336.2 151;
          end;
          implementation eq
parameters
	real global g_radius;
variables
	real LowestPointAbsH[4,4];

	real AbsHinverse[4,4];
	real invAdjointH[6,6];
	real WheelWrench[1,6];
	real WheelTwist[6];

equations
	
	// copy all values from the AbsH matrix
	// but by subtracting the g_radius from the z-coordinate

	// the rotation part
	// now unity, so no rotation w.r.t. inertial frame
	LowestPointAbsH[1:3,1:3] = eye(3);

	// the position part
	LowestPointAbsH[1,4] = AbsH[1,4];				// x-position
	LowestPointAbsH[2,4] = AbsH[2,4];				// y-position
	LowestPointAbsH[3,4] = AbsH[3,4] - g_radius;	// z-position

	// and the last row, which is [0, 0, 0, 1];
	LowestPointAbsH[4,1:4] = AbsH[4,1:4];

	// and set the output port
	zLowestPosition = LowestPointAbsH[3,4];


	// make an adjoint matrix, so we can transform a force
	// acting on the lowest point, to the center of the body
	AbsHinverse = inverseH (LowestPointAbsH);
	invAdjointH = Adjoint (AbsHinverse);

	// make a 1x6 vector holding the tranlatational forces
	WheelWrench = [0.0, 0.0, 0.0, ForceX.F, ForceY.F, ForceZ.F];

	// transform the incoming WheelContactForce vector
	WheelContactForce.F =  transpose (WheelWrench * invAdjointH);

	// and do the same for the twist (velocity) vector
	WheelTwist = invAdjointH * WheelContactForce.v;

	// and pass the velocity
	ForceX.v = WheelTwist[4];
	ForceY.v = WheelTwist[5];
	ForceZ.v = WheelTwist[6];
implementation_end;
        end;
        connections
         Transformations\WheelContactForce => WheelContactForce;
         Node4\p => Node1\p;
         Node2\p => FrictionX\p_high;
         GroundContactZ\p_low => Node4\p 360 256;
         Transformations\ForceY <= Node5\p;
         Node1\p => FixedWorld\p;
         Node5\p => FrictionY\p_high;
         FrictionY\p_low => Node4\p;
         Transformations\ForceZ <= Node3\p;
         Node3\p => GroundContactZ\p_high;
         FrictionX\p_low => Node4\p;
         Transformations\ForceX <= Node2\p;
         AbsH -> Transformations\AbsH;
         Transformations\zLowestPosition -> Splitter1\input;
         Splitter1\output -> FrictionY\zPositionLowestPoint 312 168;
         Splitter1\output -> GroundContactZ\zPositionLowestPoint;
         Splitter1\output -> FrictionX\zPositionLowestPoint;
        end;
       implementation_end;
      Splitter1 352 192
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 348.8 188.8 355.2 195.2 color -1 fill 0;
         ellipse 347.7 187.7 356.3 196.3 color -1;
        terminals
         input 352 192 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 264 472
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 260.8 468.8 267.2 475.2 color -1 fill 0;
         ellipse 259.7 467.7 268.3 476.3 color -1;
        terminals
         input 264 472 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      ZeroJunction 352 288
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 352 288 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
      ZeroJunction1 656 288
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [1];
         signal knot out effort [1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 656 288 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      OneJunction\p => R\p;
      ZeroJunction\p => EngineLeft\p1;
      EngineRight\p2 => OneJunction\p;
      OneJunction8\p => friction\p;
      OneJunction\p => ChessWay3d\RightWheelJoint;
      Node1\p <= RightWheelContact\WheelContactForce;
      LeftWheelContact\WheelContactForce => ChessWay3d\LeftWheelContact 456 504;
      ChessWay3d\RightWheelContact <= Node1\p;
      MSf\p => ZeroJunction1\p;
      ZeroJunction1\p => EngineRight\p1;
      MSf1\p => OneJunction1\p;
      OneJunction1\p => ZeroJunction\p;
      OneJunction1\p => ZeroJunction1\p;
      OneJunction8\p => ChessWay3d\LeftWheelJoint;
      EngineLeft\p2 => OneJunction8\p;
      MSf2\p => ZeroJunction\p;
      Splitter1\output -> MSf2\flow;
      ChessWay3d\LeftWheelAbsH -> LeftWheelContact\AbsH;
      ChessWay3d\RightWheelAbsH -> RightWheelContact\AbsH 608 488;
      Velocity_in -> MSf1\flow 504 120;
      PwmR -> Filter1\u;
      saswL -> EngineLeft\sasw 248 224 248 336;
      saswR -> EngineRight\sasw 808 40 808 336;
      Filter1\y -> MSf\flow;
      Filter3\y -> Splitter1\input;
      PwmL -> Filter3\u;
      CarAngle1\angle -> Angle_out;
      ChessWay3d\RBody -> CarAngle1\R;
      ChessWay3d\VelocityCar -> Demux\input;
      Splitter2\output -> Forward_velocity_out;
      Demux\output1 -> Splitter2\input;
     end;
    implementation_end;
   Cycloid2 128 544
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Cycloid.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:0:53</TimeStamp>
</Description>';
    type 'SignalGenerator-Cycloid'
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 112 528 144 560 fill 15132390;
      line 114.9 552 141.1 552;
      line 117.1 536 117.1 554.2;
      spline 117 552 121.8 550.1 128.2 540.8 140.3 538.7 color 16711680 fill 15132390;
      line 137.8 552 137.8 538.7 fill 15132390 dotted;
    end;
    implementation eq
parameters
	real amplitude = 0.5 {};
	real start_time = 2.0 {s};
	real stop_time = 6.0 {s};
variables 
	real hidden tDelta, cycl;
	boolean hidden change;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the cycliod signal"
	tDelta = 2 * pi * (time - start_time) / (stop_time - start_time);
	cycl = amplitude * (tDelta - sin (tDelta)) / twopi;
	output = if tDelta < 0.0 then 
		0
	else
		if tDelta >= 0.0 and tDelta <= twopi then
			cycl
		else
			amplitude
		end
	end;
implementation_end;
   Cycloid3 128 608
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Sources\SignalGenerator-Cycloid.emx</LibraryPath>
  <TimeStamp>2007-9-27 16:0:53</TimeStamp>
</Description>';
    type 'SignalGenerator-Cycloid'
     ports
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 112 592 144 624 fill 15132390;
      line 114.9 616 141.1 616;
      line 117.1 600 117.1 618.2;
      spline 117 616 121.8 614.1 128.2 604.8 140.3 602.7 color 16711680 fill 15132390;
      line 137.8 616 137.8 602.7 fill 15132390 dotted;
    end;
    implementation eq
parameters
	real amplitude = 0.5 {};
	real start_time = 6.0 {s};
	real stop_time = 10.0 {s};
variables 
	real hidden tDelta, cycl;
	boolean hidden change;
equations
	"calculate at least at the start and stop time"
	change = timeevent (start_time) or timeevent (stop_time);

	"calculate the cycliod signal"
	tDelta = 2 * pi * (time - start_time) / (stop_time - start_time);
	cycl = amplitude * (tDelta - sin (tDelta)) / twopi;
	output = if tDelta < 0.0 then 
		0
	else
		if tDelta >= 0.0 and tDelta <= twopi then
			cycl
		else
			amplitude
		end
	end;
implementation_end;
   DA 416 192
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
  <LibraryPath>Signal\Discrete\DA.emx</LibraryPath>
  <TimeStamp>2008-1-16 15:11:15</TimeStamp>
</Description>
';
    type DA
     ports
      signal in input;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 400 176 432 208 fill 15132390;
      spline 406.4 201.3 424 183.7 color 16711680;
      text 'A' 422.2 197.5 color 16711680 14;
      text 'D' 409.2 186.8 color 16711680 14;
    end;
    implementation eq
parameters
	real bits = 12;			// Quantization levels (bits)
	real minimum = -10;		// Minimum output value
	real maximum = 10;		// Minimum output value.
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
   DA1 408 48
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
  <LibraryPath>Signal\Discrete\DA.emx</LibraryPath>
  <TimeStamp>2008-1-16 15:11:15</TimeStamp>
</Description>
';
    type DA
     ports
      signal in input;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 392 32 424 64 fill 15132390;
      spline 398.4 57.3 416 39.7 color 16711680;
      text 'A' 414.2 53.5 color 16711680 14;
      text 'D' 401.2 42.8 color 16711680 14;
    end;
    implementation eq
parameters
	real bits = 12;			// Quantization levels (bits)
	real minimum = -10;		// Minimum output value
	real maximum = 10;		// Minimum output value.
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
   DA_L1 528 144
    description '<Description>
 <Version>No Version Info</Version>
 <IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type DA
     ports
      signal in input;
      signal out output;
     parameters
      real minimum = -10.0;
      real maximum = 10.0;
      real bits = 12.0;
    end;
    icon bg
     figures
      rectangle 513 129 543 159 fill 15132390;
      spline 519 152.7 535.5 136.2 color 16711680;
      text 'A' 533.8 149.2 color 16711680 14;
      text 'D' 521.6 139.1 color 16711680 14;
    end;
    implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
   DA_R1 528 96
    description '<Description>
 <Version>No Version Info</Version>
 <IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type DA
     ports
      signal in input;
      signal out output;
     parameters
      real minimum = -10.0;
      real maximum = 10.0;
      real bits = 12.0;
    end;
    icon bg
     figures
      rectangle 513 81 543 111 fill 15132390;
      spline 519 104.7 535.5 88.2 color 16711680;
      text 'A' 533.8 101.2 color 16711680 14;
      text 'D' 521.6 91.1 color 16711680 14;
    end;
    implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
   Digitalangle1 472 272
    type Attenuate
     ports
      signal in input;
      signal out output;
     parameters
      real K = -1.0;
    end;
    icon bg bottom
     figures
      rectangle 457 257 487 287 fill 15132390;
      text 'K' 479 278 color 16711680 16 bold;
      text '1' 466 267 color 16711680 16 bold;
      line 466 282 479 264 color 16711680 width 2;
    end;
    implementation eq
equations
	output = input / K;
       implementation_end;
   PI1 728 400
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Control\PID Control\Continuous\PI.emx</LibraryPath>
  <TimeStamp>2008-1-17 10:49:17</TimeStamp>
</Description>';
    type PI
     ports
      signal in error;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 712 384 744 416 fill 15132390;
      text 'PI' 728.5 400.1 color 16711680 18 bold;
    end;
    implementation eq
parameters
	real kp = 5.0 {};			// Proportional gain
	real tauI = 10.0 {s};		// Integral time constant: tauI > 0
variables
	real uP,uI;
equations
	uP = kp * error;
	uI = (kp / tauI) * int (error);
	output = uP + uI;   
     implementation_end;
   PlusMinus 496 448
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 488 440 504 456 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus2 728 496
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 720 488 736 504 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   PlusMinus3 192 576
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
    knot PlusMinus
     ports
      signal knot duplicatable in plus [1];
      signal knot duplicatable in minus [1];
      signal knot out output [1];
    end;
    icon bg ellipse
     figures
      ellipse 184 568 200 584 fill 16777215;
    end;
    implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
   RootMeanSquare 416 448
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Signal Processing\RootMeanSquare.emx</LibraryPath>
  <TimeStamp>2007-11-21 16:1:31</TimeStamp>
</Description>';
    type 'RootMeanSquare-SquareRoot'
     ports
      signal in input;
      signal out output;
    end;
    icon bg bottom
     figures
      rectangle 400 432 432 464 fill 15132390;
      text 'RMS' 415.7 448.1 color 16711680 14;
    end;
    implementation eq
variables
	real int_input;
equations
	int_input = int(input^2);
   output = if (time == 0 or int_input < 0 ) then
 		0
  	else
     	sqrt (int_input / time)
   end;
implementation_end;
   sbsInterface 104 320
    description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Template\Submodel-Equation.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2007-11-1 22:32:1</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
    type 'Submodel-Equation'
     ports
      signal in poleAngleOut;
      signal out pwmInL;
      signal in forward_velocity; "velocity"
      signal out pwmInR;
      signal in rmsVelocityErrorOut;
      signal out SafetySwitchInL;
      signal out SafetySwitchInR;
    end;
    implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
variables
	// event from CT to DE 
	boolean global velGT ('event');

externals
	// from CT to DE
	real global export poleAngle;
	real global export rmsVelocityError;
	//real global export velHigh;


	// from DE to CT
	real global import pwmSettingL;
	real global import pwmSettingR;
	real global import safetySwitchL;
	real global import safetySwitchR;
	real global import controlModeL;
	real global import monitorModeL;
	real global import controlModeR;
	real global import monitorModeR;
	real global import safetyKey;
	real global import gyroError;

// shared design parameters
parameters
	real global pidGain ('shared') = -75.0;
	real global sdpSlip ('shared') = 100.0;

equations
	// Out to DE
	poleAngle = poleAngleOut;
	rmsVelocityError = rmsVelocityErrorOut;
	// From DE
	pwmInL = pwmSettingL;
   pwmInR = pwmSettingR;
 	SafetySwitchInL = safetySwitchL;
	SafetySwitchInR = safetySwitchR;
implementation_end;
   Splitter1 680 144
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 677 141 683 147 color -1 fill 0;
      ellipse 676 140 684 148 color -1;
     terminals
      input 680 144 fixed;
      output 680 144 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
         implementation_end;
   Splitter2 496 368
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 492.8 364.8 499.2 371.2 color -1 fill 0;
      ellipse 491.7 363.7 500.3 372.3 color -1;
     terminals
      input 496 368 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter3 352 272
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 348.8 268.8 355.2 275.2 color -1 fill 0;
      ellipse 347.7 267.7 356.3 276.3 color -1;
     terminals
      input 352 272 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter4 768 96
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 764.8 92.8 771.2 99.2 color -1 fill 0;
      ellipse 763.7 91.7 772.3 100.3 color -1;
     terminals
      input 768 96 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter5 592 368
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 588.8 364.8 595.2 371.2 color -1 fill 0;
      ellipse 587.7 363.7 596.3 372.3 color -1;
     terminals
      input 592 368 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter6 496 576
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [1];
      signal knot in input [1];
    end;
    icon bg ellipse
     figures
      ellipse 492.8 572.8 499.2 579.2 color -1 fill 0;
      ellipse 491.7 571.7 500.3 580.3 color -1;
     terminals
      input 496 576 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
  end;
  connections
   Splitter3\output -> sbsInterface\poleAngleOut 176 320 'angle';
   sbsInterface\pwmInL -> DA_L1\input 152 144 'pwm_L';
   sbsInterface\pwmInR -> DA_R1\input 64 96 'pwm_R';
   RootMeanSquare\output -> sbsInterface\rmsVelocityErrorOut 64 448 'rms_velocity_error';
   Splitter6\output -> PlusMinus2\minus 728 576;
   Splitter6\output -> PlusMinus\plus;
   Splitter2\output -> PlusMinus\minus;
   PlusMinus\output -> RootMeanSquare\input;
   Digitalangle1\output -> Splitter3\input;
   ChessWay1\Angle_out -> AD2\input;
   PlusMinus2\output -> PI1\error;
   Splitter1\output -> ChessWay1\PwmL;
   Cycloid2\output -> PlusMinus3\plus;
   Cycloid3\output -> PlusMinus3\minus;
   ChessWay1\Forward_velocity_out -> Splitter5\input;
   AD2\output -> Digitalangle1\input;
   sbsInterface\SafetySwitchInL -> DA\input 184 192;
   sbsInterface\SafetySwitchInR -> DA1\input 24 48;
   DA_R1\output -> Splitter4\input;
   Splitter4\output -> ChessWay1\PwmR;
   PlusMinus3\output -> Splitter6\input;
   DA_L1\output -> Splitter1\input;
   DA1\output -> ChessWay1\saswR 816 48;
   DA\output -> ChessWay1\saswL 648 192;
   Splitter5\output -> Splitter2\input;
   Splitter5\output -> PlusMinus2\plus 592 496;
   PI1\output -> ChessWay1\Velocity_in;
   Splitter2\output -> sbsInterface\forward_velocity 160 368 'velocity_x';
  end;
  figures
   rectangle 312 16 608 224;
   rectangle 312 240 608 544;
 implementation_end;
]]>
</Sidops>
 </Model>
 <Experiments>
     <DefaultExperiment><![CDATA[Experiment 1]]>
</DefaultExperiment>
  <Experiment>
    <Name>Experiment 1</Name>
    <CreatedBy></CreatedBy>
    <Info></Info>
<ExpData>
  <VersionNumber>4.2</VersionNumber>
  <ModelProperties>
    <ModelProperty section="processing" entry="showresult" value="1"/>
    <ModelProperty section="processing" entry="debug_showresult" value="1"/>
  </ModelProperties>
  <Variables>
   <Parameters>
   </Parameters>
   <Initials>
    <Variable>
     <Name>ChessWay1\ChessWay3d\CarBodyFree\quatDot_int_initial</Name>
     <Rows>4</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\ChessWay3d\CarBodyFree\v_int_initial</Name>
     <Rows>3</Rows>
     <Columns>1</Columns>
     <Value>0 0 0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\ChessWay3d\LeftWheelJoint\omega_int_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\ChessWay3d\PDot_int_initial</Name>
     <Rows>8</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0 0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\ChessWay3d\RightWheelJoint\omega_int_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\Filter1\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>ChessWay1\Filter3\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PI1\error_int_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>RootMeanSquare\int_input_initial</Name>
     <Value>0</Value>
    </Variable>
   </Initials>
  </Variables>
  <PlotSpecs>
   <VarNames>
    <VarName>time</VarName>
    <VarName>controlModeR</VarName>
    <VarName>monitorModeR</VarName>
    <VarName>sbsInterface\poleAngleOut</VarName>
    <VarName>safetySwitchR</VarName>
    <VarName>pwmSettingR</VarName>
    <VarName>sbsInterface\forward_velocity</VarName>
    <VarName>controlModeL</VarName>
    <VarName>pwmSettingL</VarName>
    <VarName>safetySwitchL</VarName>
    <VarName>DA_R1\input</VarName>
    <VarName>ChessWay_Plant\ChessWay\PlusMinus1\output</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,4]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,3]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,2]</VarName>
    <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheelJoint.T</VarName>
   </VarNames>
   <Plots>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>1</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>14215660</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>0.02</Minimum>
       <Maximum>0.22</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>sbsPlant angle</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>sbsInterface\poleAngleOut</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
      <Position>
       <X>0.71793815099432</X>
       <Y>0.633333333333333</Y>
      </Position>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>2</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>14215660</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>selfBalancingScooter 3D</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>X</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-160</Minimum>
       <Maximum>40</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>pwmInR</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>10040319</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>10040319</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>DA_R1\input</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>3</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>14215660</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>selfBalancingScooter 3D(1)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>X</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-160</Minimum>
       <Maximum>40</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>PwmSettingR</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>3368448</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368448</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>pwmSettingR</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>4</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>14215660</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>selfBalancingScooter 3D(2)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.07</Minimum>
       <Maximum>0.03</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>forward_velocity</Label>
      </Axis>
      <Axis>
       <Minimum>-0.2</Minimum>
       <Maximum>0.8</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>output</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>sbsInterface\forward_velocity</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>ChessWay_Plant\ChessWay\PlusMinus1\output</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>D3DPlot</PlotType>
     <BasePlot>
       <PlotId>5</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <RenderQuality>137</RenderQuality>
     <ShowGrid>true</ShowGrid>
     <BackgroundColor>4294967295</BackgroundColor>
     <FrameScale>1</FrameScale>
     <FrameThickness>1</FrameThickness>
     <MainFrame>
      <Frame>
       <ScaleValue>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </ScaleValue>
       <ShowReferenceFrame>true</ShowReferenceFrame>
       <Name>Reference Frame</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Default Lights and Cameras</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Ambient</Name>
      <Position>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>0</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <AmbientLight>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </AmbientLight>
      <AmbientOn>true</AmbientOn>
      <DiffuseOn>false</DiffuseOn>
      <SpecularOn>false</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Parallel</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>5</Value>
       </Y>
       <Z>
        <Value>3</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.457495710997814</Value>
        </X>
        <Y>
         <Value>-0.762492851663023</Value>
        </Y>
        <Z>
         <Value>-0.457495710997814</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.235379601434674</Value>
        </X>
        <Y>
         <Value>-0.392299335724456</Value>
        </Y>
        <Z>
         <Value>0.889211827642101</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>3</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0</Value>
       </Linear>
       <Quadratic>
        <Value>0</Value>
       </Quadratic>
      </Attenuation>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 1</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>-5</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.50709255283711</Value>
        </X>
        <Y>
         <Value>0.845154254728517</Value>
        </Y>
        <Z>
         <Value>-0.169030850945703</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.0869656553478673</Value>
        </X>
        <Y>
         <Value>0.144942758913112</Value>
        </Y>
        <Z>
         <Value>0.985610760609162</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.0471975511966</Value>
      </Umbra>
      <Penumbra>
       <Value>1.0471975511966</Value>
      </Penumbra>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 2</Name>
      <Position>
       <X>
        <Value>2</Value>
       </X>
       <Y>
        <Value>-3</Value>
       </Y>
       <Z>
        <Value>-1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.534522483824849</Value>
        </X>
        <Y>
         <Value>0.801783725737273</Value>
        </Y>
        <Z>
         <Value>0.267261241912424</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.14824986333222</Value>
        </X>
        <Y>
         <Value>-0.22237479499833</Value>
        </Y>
        <Z>
         <Value>0.963624111659432</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.5707963267949</Value>
      </Umbra>
      <Penumbra>
       <Value>1.5707963267949</Value>
      </Penumbra>
      <DiffuseLight>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Camera Looking at Origin</Name>
      <Position>
       <X>
        <Value>0.664728918333466</Value>
       </X>
       <Y>
        <Value>5.52474736039462</Value>
       </Y>
       <Z>
        <Value>1.31943908291853</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.0222344304976449</Value>
        </X>
        <Y>
         <Value>-0.995857991671292</Value>
        </Y>
        <Z>
         <Value>-0.0881617293663578</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.00196788845979916</Value>
        </X>
        <Y>
         <Value>-0.0881397636704155</Value>
        </Y>
        <Z>
         <Value>0.996106173796314</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.00392699081698724</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
       <X>
        <Value>0.791842119873763</Value>
       </X>
       <Y>
        <Value>-0.168526304259682</Value>
       </Y>
       <Z>
        <Value>0.815422590376751</Value>
       </Z>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>true</Perspective>
      <IsSelectedCamera>true</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Front(XY)-Camera</Name>
      <Position>
       <Z>
        <Value>10</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>-1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Y>
        <Value>1</Value>
       </Y>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Side(YZ)-Camera</Name>
      <Position>
       <X>
        <Value>10</Value>
       </X>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-1</Value>
        </X>
       </ZAxis>
       <YAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Top(XZ)-Camera</Name>
      <Position>
       <Y>
        <Value>10</Value>
       </Y>
      </Position>
      <Orientation>
       <ZAxis>
        <Y>
         <Value>-1</Value>
        </Y>
       </ZAxis>
       <YAxis>
        <X>
         <Value>1</Value>
        </X>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <X>
        <Value>1</Value>
       </X>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Scenery</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>ChessWay3d</Name>
         <SceneryFileName>C:\Users\bebo\Documents\DestecsWorkspace130\ChessWay_DESTECS\model_ct\ChessWay3d.scn</SceneryFileName>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>true</ShowReferenceFrame>
      <ID>Body0</ID>
      <Name>CarBody</Name>
      <Position>
       <X>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,4]</VariableName>
        <Value>-0.1</Value>
       </X>
       <Y>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,4]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,4]</VariableName>
        <Value>1.1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,3]</VariableName>
         <Value>-0.0998334166468279</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,3]</VariableName>
         <Value>0</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,3]</VariableName>
         <Value>0.995004165278026</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[1,2]</VariableName>
         <Value>0</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[2,2]</VariableName>
         <Value>1</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\CarBody\AbsH[3,2]</VariableName>
         <Value>0</Value>
        </Z>
       </YAxis>
       <OrientationType>Matrix</OrientationType>
      </Orientation>
      <LockX>true</LockX>
      <LockY>true</LockY>
      <LockZ>true</LockZ>
      <LockXPitch>true</LockXPitch>
      <LockYYaw>true</LockYYaw>
      <LockZRoll>true</LockZRoll>
      <Childs>
       <Cube>
        <Center>Center</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>true</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.2</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>1.8</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>0.219607843137255</Value>
         </X>
         <Y>
     <Value>0.552941176470588</Value>
         </Y>
         <Z>
     <Value>0.552941176470588</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>Body0_Sub0</ID>
        <Name>Cube</Name>
        <Position>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>KP0\Hinge0</ID>
        <Name>Frame</Name>
        <Position>
         <Y>
     <Value>-0.3</Value>
         </Y>
         <Z>
     <Value>-0.9</Value>
         </Z>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0.5</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>true</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.05</Value>
      </X>
      <Y>
       <Value>0.05</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.596078431372549</Value>
      </X>
      <Y>
       <Value>0.984313725490196</Value>
      </Y>
      <Z>
       <Value>0.596078431372549</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <ID>KP0\Hinge0_Sub0</ID>
     <Name>Cylinder</Name>
     <Position>
      <Y>
       <Value>-0.01</Value>
      </Y>
     </Position>
     <Orientation>
      <ZAxis>
       <Y>
        <Value>-1</Value>
       </Y>
       <Z>
        <Value>-3.49148133884313e-015</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>-3.49148133884313e-015</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>true</LockX>
     <LockY>true</LockY>
     <LockZ>true</LockZ>
     <LockXPitch>true</LockXPitch>
     <LockYYaw>true</LockYYaw>
     <LockZRoll>true</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>KP1\Hinge0</ID>
        <Name>Frame</Name>
        <Position>
         <Y>
     <Value>0.3</Value>
         </Y>
         <Z>
     <Value>-0.9</Value>
         </Z>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0.5</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>true</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.05</Value>
      </X>
      <Y>
       <Value>0.05</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.596078431372549</Value>
      </X>
      <Y>
       <Value>0.984313725490196</Value>
      </Y>
      <Z>
       <Value>0.596078431372549</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <ID>KP1\Hinge0_Sub0</ID>
     <Name>Cylinder</Name>
     <Position>
      <Y>
       <Value>-0.01</Value>
      </Y>
     </Position>
     <Orientation>
      <ZAxis>
       <Y>
        <Value>-1</Value>
       </Y>
       <Z>
        <Value>-3.49148133884313e-015</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>-3.49148133884313e-015</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>true</LockX>
     <LockY>true</LockY>
     <LockZ>true</LockZ>
     <LockXPitch>true</LockXPitch>
     <LockYYaw>true</LockYYaw>
     <LockZRoll>true</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>ConnectionPoint2</ID>
        <Name>Reference Frame</Name>
        <Position>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>true</ShowReferenceFrame>
      <ID>Body1</ID>
      <Name>LeftWheel</Name>
      <Position>
       <X>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,4]</VariableName>
        <Value>-0.0101499250178549</Value>
       </X>
       <Y>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,4]</VariableName>
        <Value>-0.325</Value>
       </Y>
       <Z>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,4]</VariableName>
        <Value>0.204496251249777</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,3]</VariableName>
         <Value>-0.0998334166468279</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,3]</VariableName>
         <Value>0</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,3]</VariableName>
         <Value>0.995004165278026</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[1,2]</VariableName>
         <Value>0</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[2,2]</VariableName>
         <Value>1</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheel\AbsH[3,2]</VariableName>
         <Value>0</Value>
        </Z>
       </YAxis>
       <OrientationType>Matrix</OrientationType>
      </Orientation>
      <LockX>true</LockX>
      <LockY>true</LockY>
      <LockZ>true</LockZ>
      <LockXPitch>true</LockXPitch>
      <LockYYaw>true</LockYYaw>
      <LockZRoll>true</LockZRoll>
      <Childs>
       <Cylinder>
        <CircleElements>32</CircleElements>
        <LowerRadius>0.15</LowerRadius>
        <UpperRadius>0.15</UpperRadius>
        <Height>1</Height>
        <Closed>true</Closed>
        <LowerClosed>true</LowerClosed>
        <UpperClosed>true</UpperClosed>
        <CenterInOrigin>true</CenterInOrigin>
        <ShowInnerSide>false</ShowInnerSide>
        <ShowOuterSide>true</ShowOuterSide>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>0.05</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>0.6</Value>
         </X>
         <Y>
     <Value>0.329411764705882</Value>
         </Y>
         <Z>
     <Value>0.729411764705882</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>Body1_Sub0</ID>
        <Name>Cube</Name>
        <Position>
        </Position>
        <Orientation>
         <ZAxis>
     <Y>
      <Value>-1</Value>
     </Y>
     <Z>
      <Value>-3.49148133884313e-015</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>-3.49148133884313e-015</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
        </Childs>
       </Cylinder>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>KP0\Hinge1</ID>
        <Name>Frame</Name>
        <Position>
         <Y>
     <Value>0.025</Value>
         </Y>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0.5</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>true</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.05</Value>
      </X>
      <Y>
       <Value>0.05</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.894117647058824</Value>
      </Y>
      <Z>
       <Value>0.882352941176471</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <ID>KP0\Hinge1_Sub0</ID>
     <Name>Cylinder</Name>
     <Position>
      <Y>
       <Value>0.01</Value>
      </Y>
     </Position>
     <Orientation>
      <ZAxis>
       <Y>
        <Value>-1</Value>
       </Y>
       <Z>
        <Value>-3.49148133884313e-015</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>-3.49148133884313e-015</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>true</LockX>
     <LockY>true</LockY>
     <LockZ>true</LockZ>
     <LockXPitch>true</LockXPitch>
     <LockYYaw>true</LockYYaw>
     <LockZRoll>true</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <ID>Body2</ID>
      <Name>RightWheel</Name>
      <Position>
       <X>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,4]</VariableName>
        <Value>-0.0101499250178549</Value>
       </X>
       <Y>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,4]</VariableName>
        <Value>0.325</Value>
       </Y>
       <Z>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,4]</VariableName>
        <Value>0.204496251249777</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,3]</VariableName>
         <Value>-0.0998334166468279</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,3]</VariableName>
         <Value>0</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,3]</VariableName>
         <Value>0.995004165278026</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[1,2]</VariableName>
         <Value>0</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[2,2]</VariableName>
         <Value>1</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\RightWheel\AbsH[3,2]</VariableName>
         <Value>0</Value>
        </Z>
       </YAxis>
       <OrientationType>Matrix</OrientationType>
      </Orientation>
      <LockX>true</LockX>
      <LockY>true</LockY>
      <LockZ>true</LockZ>
      <LockXPitch>true</LockXPitch>
      <LockYYaw>true</LockYYaw>
      <LockZRoll>true</LockZRoll>
      <Childs>
       <Cylinder>
        <CircleElements>32</CircleElements>
        <LowerRadius>0.15</LowerRadius>
        <UpperRadius>0.15</UpperRadius>
        <Height>1</Height>
        <Closed>true</Closed>
        <LowerClosed>true</LowerClosed>
        <UpperClosed>true</UpperClosed>
        <CenterInOrigin>true</CenterInOrigin>
        <ShowInnerSide>false</ShowInnerSide>
        <ShowOuterSide>true</ShowOuterSide>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>0.05</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>0</Value>
         </Y>
         <Z>
     <Value>0</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>Body2_Sub0</ID>
        <Name>Cube</Name>
        <Position>
        </Position>
        <Orientation>
         <ZAxis>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>-3.49148133884313e-015</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>-3.49148133884313e-015</Value>
     </Y>
     <Z>
      <Value>-1</Value>
     </Z>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
        </Childs>
       </Cylinder>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>KP1\Hinge1</ID>
        <Name>Frame</Name>
        <Position>
         <Y>
     <Value>-0.025</Value>
         </Y>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0.5</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>true</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.05</Value>
      </X>
      <Y>
       <Value>0.05</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.894117647058824</Value>
      </Y>
      <Z>
       <Value>0.882352941176471</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <ID>KP1\Hinge1_Sub0</ID>
     <Name>Cylinder</Name>
     <Position>
      <Y>
       <Value>0.01</Value>
      </Y>
     </Position>
     <Orientation>
      <ZAxis>
       <Y>
        <Value>-1</Value>
       </Y>
       <Z>
        <Value>-3.49148133884313e-015</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>-3.49148133884313e-015</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>true</LockX>
     <LockY>true</LockY>
     <LockZ>true</LockZ>
     <LockXPitch>true</LockXPitch>
     <LockYYaw>true</LockYYaw>
     <LockZRoll>true</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <ID>World</ID>
      <Name>World</Name>
      <Position>
       <X>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,4]</VariableName>
        <Value>0</Value>
       </X>
       <Y>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,4]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,4]</VariableName>
        <Value>0</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,3]</VariableName>
         <Value>0</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,3]</VariableName>
         <Value>0</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,3]</VariableName>
         <Value>1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[1,2]</VariableName>
         <Value>0</Value>
        </X>
        <Y>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[2,2]</VariableName>
         <Value>1</Value>
        </Y>
        <Z>
         <VariableName>ChessWay_Plant\ChessWay\ChessWay3d\World\AbsH[3,2]</VariableName>
         <Value>0</Value>
        </Z>
       </YAxis>
       <OrientationType>Matrix</OrientationType>
      </Orientation>
      <LockX>true</LockX>
      <LockY>true</LockY>
      <LockZ>true</LockZ>
      <LockXPitch>true</LockXPitch>
      <LockYYaw>true</LockYYaw>
      <LockZRoll>true</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <ID>ConnectionPoint1</ID>
        <Name>Reference Frame</Name>
        <Position>
        </Position>
        <Orientation>
         <ZAxis>
     <Z>
      <Value>1</Value>
     </Z>
         </ZAxis>
         <YAxis>
     <Y>
      <Value>1</Value>
     </Y>
         </YAxis>
         <OrientationType>Matrix</OrientationType>
        </Orientation>
        <LockX>true</LockX>
        <LockY>true</LockY>
        <LockZ>true</LockZ>
        <LockXPitch>true</LockXPitch>
        <LockYYaw>true</LockYYaw>
        <LockZRoll>true</LockZRoll>
        <Childs>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <ID>Obj4</ID>
      <Name>Camera</Name>
      <Position>
       <X>
        <Value>0.301353706928444</Value>
       </X>
       <Y>
        <Value>5.69347443113217</Value>
       </Y>
       <Z>
        <Value>1.39011850192805</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.142882123395849</Value>
        </X>
        <Y>
         <Value>-0.986847738595484</Value>
        </Y>
        <Z>
         <Value>-0.0756058175200381</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>-0.0108337282181712</Value>
        </X>
        <Y>
         <Value>-0.0748255970625568</Value>
        </Y>
        <Z>
         <Value>0.997137784038458</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.004</FrontPlane>
      <BackPlane>40</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.00182212373908208</Field>
      <Fieldy>52.2</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
       <X>
        <Value>-0.5656078547712</Value>
       </X>
       <Y>
        <Value>-0.294391904268048</Value>
       </Y>
       <Z>
        <Value>0.93136735746784</Value>
       </Z>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>true</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
         </Childs>
        </Frame>
       </Childs>
      </Frame>
     </MainFrame>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>6</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>14215660</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model(1)</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-3</Minimum>
       <Maximum>7</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>LeftWheelJoint.T</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>ChessWay_Plant\ChessWay\ChessWay3d\LeftWheelJoint.T</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
      <Position>
       <X>0.584947075752402</X>
       <Y>0.39873417721519</Y>
      </Position>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>7</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>Right</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>4</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>controlModeR</Label>
      </Axis>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>4</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>monitorModeR</Label>
      </Axis>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>4</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>safetySwitchR</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>controlModeR</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>0</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>monitorModeR</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>safetySwitchR</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <PlotId>8</PlotId>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>15790320</BGColor>
       <PlotIsVisible>true</PlotIsVisible>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>Left</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>0.17506</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-160</Minimum>
       <Maximum>40</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>controlModeL</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>pwmSettingL</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>6</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>safetySwitchL</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>controlModeL</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>pwmSettingL</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <CurveVisible>true</CurveVisible>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>safetySwitchL</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
    </Plot>
   </Plots>
   <PlotPanels>
    <PlotPanel>
     <PlotPanelId>1</PlotPanelId>
     <PlotPanelVisible>true</PlotPanelVisible>
     <Name>Window CT</Name>
     <Tiling>2</Tiling>
     <PlotIds>
       <PlotId>1</PlotId>
       <PlotId>2</PlotId>
       <PlotId>3</PlotId>
       <PlotId>4</PlotId>
       <PlotId>6</PlotId>
     </PlotIds>
    </PlotPanel>
    <PlotPanel>
     <PlotPanelId>2</PlotPanelId>
     <PlotPanelVisible>false</PlotPanelVisible>
     <Name>3D Animation</Name>
     <Tiling>0</Tiling>
     <PlotIds>
       <PlotId>5</PlotId>
     </PlotIds>
    </PlotPanel>
    <PlotPanel>
     <PlotPanelId>3</PlotPanelId>
     <PlotPanelVisible>false</PlotPanelVisible>
     <Name>Window DE</Name>
     <Tiling>1</Tiling>
     <PlotIds>
       <PlotId>7</PlotId>
       <PlotId>8</PlotId>
     </PlotIds>
    </PlotPanel>
   </PlotPanels>
   <WindowRectangles virtualDesktopWidth="3120" virtualDesktopHeight="1050">
     <WindowRectangle monitor="0" left="0" top="0" right="1440" bottom="900" plotpanelid="2">
0.102083 0.188889 0.966667 0.878889
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1440" bottom="900" plotpanelid="1">
0.00208333 0.243333 1 1
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1440" bottom="900" plotpanelid="3">
0.01875 0.326667 0.931944 0.773333
     </WindowRectangle>
   </WindowRectangles>
  </PlotSpecs>
  <RunSpecs>
   <SimulatorSettings>
    <StartTime>0</StartTime>
    <FinishTime>0.5</FinishTime>
    <Warp>false</Warp>
    <UseOutputAfterEach>false</UseOutputAfterEach>
    <OutputAfterEach>0.1</OutputAfterEach>
    <EventEpsilon>1e-006</EventEpsilon>
    <AlgebraicTolerance>1e-007</AlgebraicTolerance>
    <SteadyStateAnalysis>false</SteadyStateAnalysis>
    <UpdateHoldInstructions>false</UpdateHoldInstructions>
    <DiscreteSystems>
     <DiscreteSystem>
      <DiscreteID>ChessWay_Plant\AD1\hold_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>AD2\hold_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>DA\rounded_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>DA1\rounded_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>DA_L1\rounded_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>DA_R1\rounded_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
     <DiscreteSystem>
      <DiscreteID>ChessWay_Plant\DA_R\rounded_signal</DiscreteID>
      <TimeInterval>0.001</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
    </DiscreteSystems>
   </SimulatorSettings>
   <IntegrationMethods>
    <IntegrationMethod>
     <Name>Euler</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BackwardEuler</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <StepSize>0.01</StepSize>
     <Alpha>1</Alpha>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>AdamsBashforth</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta2</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta4</Name>
     <StepSize>0.01</StepSize>
     <AutoStepSize>false</AutoStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta8</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <SafetyFactor>0.9</SafetyFactor>
     <Factor1>0.33</Factor1>
     <Factor2>6</Factor2>
     <Beta>0</Beta>
     <UseMaxNrSteps>false</UseMaxNrSteps>
     <MaxNrSteps>100000</MaxNrSteps>
     <UseStiffDetection>false</UseStiffDetection>
     <MaxNrStiffnessSteps>1000</MaxNrStiffnessSteps>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKuttaFehlberg</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>VodeAdams</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <VodeUseBDF>true</VodeUseBDF>
     <VodeUseNewton>true</VodeUseNewton>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BDFMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>MeBDFiMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <SelectedIntegrationMethod>1</SelectedIntegrationMethod>
   </IntegrationMethods>
  </RunSpecs>
  <MultipleRun>
   <NrSteps>10</NrSteps>
   <CopyFromStates>false</CopyFromStates>
   <JoinParameterVariation>true</JoinParameterVariation>
   <ClearAfterRun>true</ClearAfterRun>
   <RedrawAfterRun>false</RedrawAfterRun>
   <DrawDuringSimulation>true</DrawDuringSimulation>
   <ActionBeforeOptimization>0</ActionBeforeOptimization>
   <CompareValue>0</CompareValue>
   <UseCompareValue>true</UseCompareValue>
   <MultipleRunType>MultipleRun</MultipleRunType>
   <Minimize>true</Minimize>
   <OptimizationVariable></OptimizationVariable>
   <ResulVarUsage>UseEndValue</ResulVarUsage>
   <Tolerance>0.001</Tolerance>
   <OptimizationMethod>BroydonFletcherGoldfarbShanno</OptimizationMethod>
   <MultipleRunVariables>
   </MultipleRunVariables>
  </MultipleRun>
  <ExportData>
   <WriteAsText>true</WriteAsText>
   <ReadAsText>true</ReadAsText>
   <WriteHeader>true</WriteHeader>
   <ReadHeader>true</ReadHeader>
   <ReadFilename></ReadFilename>
   <WriteFilename></WriteFilename>
   <DoWrite>false</DoWrite>
   <ExportVariables>
   </ExportVariables>
   <ImportVariables>
   </ImportVariables>
  </ExportData>
  <BreakPoints>
  </BreakPoints>
  <AnimationPlayback>
   <PlaybackSpeed>1</PlaybackSpeed>
  </AnimationPlayback>
</ExpData>
  </Experiment>
</Experiments>
</Document>
