<copy todir="${buildDirectory}/plugins">
	<fileset dir="${OvertureSourceIdeBase}">
		<include name="ui/**" />
		<include name="core/**" />
		<include name="debug/**" />
		<include name="help/**" />
		<include name="platform/**" />
		<include name="ui/**" />
		<!--exclude name="**/target/" /-->
	</fileset>
	<fileset dir="../plugins/">
		<include name="**" />
		<exclude name="**/idedebughelper/" />
		<exclude name="**/proofsupport/" />
	</fileset>
</copy>


	<!-- Platform plugin, manage version number -->
<copy todir="${buildDirectory}/plugins" filtering="true">
	<fileset dir="${OvertureSourceIdeBase}">
		<include name="platform/**" />
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy file="${OvertureSourceIdeBase}/platform/plugin.properties" toFile="${buildDirectory}/plugins/platform/plugin.properties"
	overwrite="true" filtering="true">
	<filterchain>
		<replacetokens>
			<token key="version" value="${platformReleaseVersion}${RCVersion}" />
			<token key="builddate" value="${TODAY}" />
			<token key="svnrevision" value="${svn.info.rev}" />
			<token key="svnurl" value="${svn.info.url}" />
		</replacetokens>
	</filterchain>
</copy>
<copy file="${OvertureSourceIdeBase}/platform/META-INF/MANIFEST.MF"
	toFile="${buildDirectory}/plugins/platform/META-INF/MANIFEST.MF"
	overwrite="true" filtering="true">
	<filterchain>
		<tokenfilter>
			<replaceregex pattern="0.0.0" replace="${platformReleaseVersion}"
				flags="gi" />
		</tokenfilter>
	</filterchain>
</copy>

	<!-- IDE -->

<copy todir="${buildDirectory}/plugins/builders.vdmj">
	<fileset dir="${OvertureSourceIdeBase}/builders/vdmj">
		<exclude name="**/target/" />
	</fileset>

</copy>
<copy todir="${buildDirectory}/plugins/parsers.vdmj">
	<fileset dir="${OvertureSourceIdeBase}/parsers/vdmj">
		<exclude name="**/target/" />
	</fileset>
</copy>


<copy todir="${buildDirectory}/plugins/vdmpp.core">
	<fileset dir="${OvertureSourceIdeBase}/vdmpp/core">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/vdmpp.ui">
	<fileset dir="${OvertureSourceIdeBase}/vdmpp/ui">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/plugins/vdmpp.debug">
	<fileset dir="${OvertureSourceIdeBase}/vdmpp/debug">
		<exclude name="**/target/" />
	</fileset>
</copy>


<copy todir="${buildDirectory}/plugins/vdmsl.core">
	<fileset dir="${OvertureSourceIdeBase}/vdmsl/core">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/vdmsl.ui">
	<fileset dir="${OvertureSourceIdeBase}/vdmsl/ui">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/plugins/vdmsl.debug">
	<fileset dir="${OvertureSourceIdeBase}/vdmsl/debug">
		<exclude name="**/target/" />
	</fileset>
</copy>


<copy todir="${buildDirectory}/plugins/vdmrt.core">
	<fileset dir="${OvertureSourceIdeBase}/vdmrt/core">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/vdmrt.ui">
	<fileset dir="${OvertureSourceIdeBase}/vdmrt/ui">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/plugins/vdmrt.debug">
	<fileset dir="${OvertureSourceIdeBase}/vdmrt/debug">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/generated.showtrace">
	<fileset dir="${OvertureSourceIdeBase}/generated/showtrace">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/generated.traces">
	<fileset dir="${OvertureSourceIdeBase}/generated/traces">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/generated.umltrans">
	<fileset dir="${OvertureSourceIdeBase}/generated/umltrans">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}/plugins/generated.vdmj">
	<fileset dir="${OvertureSourceIdeBase}/generated/vdmj">
		<exclude name="**/target/" />
	</fileset>
</copy>

<copy todir="${buildDirectory}">
	<fileset dir="${OvertureSourceIdeBase}">
		<include name="features/core/**" />
		<include name="features/rcp/**" />
		<exclude name="**/target/" />
	</fileset>

</copy>
	<!--
		Copying features and renaming the directories to a flat structure
	-->
<copy todir="${buildDirectory}/features/features.coverageeditor">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/coverageeditor">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.csk">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/csk">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.ct">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/ct">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.latex">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/latex">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.poviewer">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/poviewer">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.quickinterpreter">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/quickinterpreter">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.realtimelogviewer">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/realtimelogviewer">
		<exclude name="**/target/" />
	</fileset>
</copy>
<copy todir="${buildDirectory}/features/features.umltrans">
	<fileset dir="${OvertureSourceIdeBase}/plugins/features/umltrans">
		<exclude name="**/target/" />
	</fileset>
</copy>