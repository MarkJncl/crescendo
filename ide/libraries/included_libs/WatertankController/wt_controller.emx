<?xml version="1.0" encoding="UTF-8"?>
<Document>
  <Icons>
    <Icon size="64" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d4948445200000040000000400806000000aa6971de000000097048597300000ec400000ec401952b0e1b000000ef49444154789ced9b410e824010041bc3279cffbf6d7c869ef08031ac895a61bbeb4838548a8110765924dd65cc2a49dd4d7bfc9daa92245d600f9c04a00568128016a049005a80260168019a04a005680e0354d5f3bd79463201b4004d02d0023409400bd0d80758474facbafed2e3ab74df86cfb59f8004a00568869f019fdc5767c27e02128016a049005a80260168019a04a00568128016a049005a80260168019a04a00568ec03bc7c127bb7147ec625f2912dc09980fd817db5edcacfbaa1da7e02ec031cae0bcc3afa1bf6139000b4004d02d0023409400bd024002d409300b4008d7d8045e67f8fdb4fc0035735178ab21ed90b0000000049454e44ae426082]]>
     </Icon>
  </Icons>
  <Model version="4.1" build="4.1.3.2">
    <Sidops>
<![CDATA[Control 104 320specifications active 'cosim'	specification 'local'type Constant  ports   signal out valvecontrolOut;   signal in levelIn;  parameters   real C = 20.0; end; icon bg bottom  figures   rectangle 88.1 304 119.9 336 fill 15132390;   line 92.9 315.6 114.9 315.6 color 16711680 width 2;   line 90.2 326.7 115.9 326.7;   line 92.5 310.7 92.5 329; end; implementation eqparameters	real global maxlevel;	real global minlevel;variables	real count;	real timeadvance;	boolean minLevelReached;	boolean maxLevelReached;initialequations	valvecontrolOut = 0;	count = 0;	timeadvance = 1;code	minLevelReached = eventdown(levelIn-minlevel);	maxLevelReached = eventup(levelIn-maxlevel);	if levelIn > maxlevel then valvecontrolOut = 1; end;	if levelIn < minlevel then valvecontrolOut = 0; end;	if event(valvecontrolOut-0.5) then 			count = count +1; 			timeadvance = time + 1;		end;	if timeevent(timeadvance) then 			count = count +1; 			timeadvance = time + 1;		end;implementation_end;specification_end;	specification 'cosim' description '<Description>
  <LibraryPath>C:\destecs\destecs_sf_svn\trunk\ide\libraries\included_libs\WatertankController\wt_controller.emx</LibraryPath>
  <TimeStamp>2011-8-30 15:28:46</TimeStamp>
  <Version>4.1</Version>
</Description>
'; type Constant  ports   signal out valvecontrolOut;   signal in levelIn; end; icon bg bottom  figures   rectangle 88.1 304 119.9 336 fill 15132390;   line 92.9 315.6 114.9 315.6 color 16711680 width 2;   line 90.2 326.7 115.9 326.7;   line 92.5 310.7 92.5 329; end; implementation eqparameters	real global maxlevel ('shared');	real global minlevel ('shared');externals	real global export level;	real global import valve;variables	real 	testSignalVar;code	// the export for this model	level = levelIn;	// IN BETWEEN HERE THE VDM/DESTECS WILL CALCULATE THE NEW VALVE CONTROL VALUE	// and import the valveControl	valvecontrolOut = valve;implementation_end;specification_end;	specification 'cosimEvents'type Constant  ports   signal out valvecontrolOut;   signal in levelIn; end; icon bg bottom  figures   rectangle 88.1 304 119.9 336 fill 15132390;   line 92.9 315.6 114.9 315.6 color 16711680 width 2;   line 90.2 326.7 115.9 326.7;   line 92.5 310.7 92.5 329; end; implementation eqparameters	real global maxlevel ('shared');	real global minlevel ('shared');externals	real global export level;	real global import valve;variables	boolean minLevelReached ('event');	boolean maxLevelReached ('event');code	// the export for this model	level = levelIn;	maxLevelReached = eventup(levelIn-maxlevel);	minLevelReached = eventdown(levelIn-minlevel);	// IN BETWEEN HERE THE VDM/DESTECS WILL CALCULATE THE NEW VALVE CONTROL VALUE	// and import the valveControl	valvecontrolOut = valve;implementation_end;specification_end;end;]]>
    </Sidops>
  </Model>
</Document>
